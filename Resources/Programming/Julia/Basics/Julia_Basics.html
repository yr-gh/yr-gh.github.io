<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.533">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rui Yang">
<meta name="dcterms.date" content="2023-11-16">

<title>Julia Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="Julia_Basics_files/libs/clipboard/clipboard.min.js"></script>
<script src="Julia_Basics_files/libs/quarto-html/quarto.js"></script>
<script src="Julia_Basics_files/libs/quarto-html/popper.min.js"></script>
<script src="Julia_Basics_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Julia_Basics_files/libs/quarto-html/anchor.min.js"></script>
<link href="Julia_Basics_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Julia_Basics_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Julia_Basics_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Julia_Basics_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Julia_Basics_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#julia-pros-and-cons" id="toc-julia-pros-and-cons" class="nav-link active" data-scroll-target="#julia-pros-and-cons"><span class="header-section-number">1</span> Julia pros and cons</a>
  <ul>
  <li><a href="#pros" id="toc-pros" class="nav-link" data-scroll-target="#pros"><span class="header-section-number">1.1</span> Pros</a></li>
  <li><a href="#cons" id="toc-cons" class="nav-link" data-scroll-target="#cons"><span class="header-section-number">1.2</span> Cons</a></li>
  </ul></li>
  <li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics"><span class="header-section-number">2</span> Basics</a>
  <ul>
  <li><a href="#arithmetic-operations-and-number-types" id="toc-arithmetic-operations-and-number-types" class="nav-link" data-scroll-target="#arithmetic-operations-and-number-types"><span class="header-section-number">2.1</span> Arithmetic operations and number types</a>
  <ul>
  <li><a href="#arithmetic-operations" id="toc-arithmetic-operations" class="nav-link" data-scroll-target="#arithmetic-operations"><span class="header-section-number">2.1.1</span> Arithmetic operations</a></li>
  <li><a href="#number-types" id="toc-number-types" class="nav-link" data-scroll-target="#number-types"><span class="header-section-number">2.1.2</span> Number types</a></li>
  <li><a href="#arithmetic-operations-for-integers" id="toc-arithmetic-operations-for-integers" class="nav-link" data-scroll-target="#arithmetic-operations-for-integers"><span class="header-section-number">2.1.3</span> Arithmetic operations for integers</a></li>
  </ul></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables"><span class="header-section-number">2.2</span> Variables</a></li>
  <li><a href="#relation-and-logical-operations" id="toc-relation-and-logical-operations" class="nav-link" data-scroll-target="#relation-and-logical-operations"><span class="header-section-number">2.3</span> Relation and logical operations</a>
  <ul>
  <li><a href="#relation-operations" id="toc-relation-operations" class="nav-link" data-scroll-target="#relation-operations"><span class="header-section-number">2.3.1</span> Relation operations</a></li>
  <li><a href="#logical-operations" id="toc-logical-operations" class="nav-link" data-scroll-target="#logical-operations"><span class="header-section-number">2.3.2</span> Logical operations</a></li>
  </ul></li>
  <li><a href="#control-flow" id="toc-control-flow" class="nav-link" data-scroll-target="#control-flow"><span class="header-section-number">2.4</span> Control flow</a>
  <ul>
  <li><a href="#comment" id="toc-comment" class="nav-link" data-scroll-target="#comment"><span class="header-section-number">2.4.1</span> Comment</a></li>
  <li><a href="#compound-expressions" id="toc-compound-expressions" class="nav-link" data-scroll-target="#compound-expressions"><span class="header-section-number">2.4.2</span> Compound expressions</a></li>
  <li><a href="#short-circuit-evaluation" id="toc-short-circuit-evaluation" class="nav-link" data-scroll-target="#short-circuit-evaluation"><span class="header-section-number">2.4.3</span> Short-circuit evaluation</a></li>
  <li><a href="#conditional-evaluation" id="toc-conditional-evaluation" class="nav-link" data-scroll-target="#conditional-evaluation"><span class="header-section-number">2.4.4</span> Conditional evaluation</a></li>
  <li><a href="#looping" id="toc-looping" class="nav-link" data-scroll-target="#looping"><span class="header-section-number">2.4.5</span> Looping</a></li>
  <li><a href="#jump-out-of-loops" id="toc-jump-out-of-loops" class="nav-link" data-scroll-target="#jump-out-of-loops"><span class="header-section-number">2.4.6</span> Jump out of loops</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">2.5</span> Functions</a>
  <ul>
  <li><a href="#inline-functions" id="toc-inline-functions" class="nav-link" data-scroll-target="#inline-functions"><span class="header-section-number">2.5.1</span> Inline functions</a></li>
  <li><a href="#multiline-functions" id="toc-multiline-functions" class="nav-link" data-scroll-target="#multiline-functions"><span class="header-section-number">2.5.2</span> Multiline functions</a></li>
  <li><a href="#argument-passing-behaviour" id="toc-argument-passing-behaviour" class="nav-link" data-scroll-target="#argument-passing-behaviour"><span class="header-section-number">2.5.3</span> Argument passing behaviour</a></li>
  <li><a href="#specify-the-type-of-return-value" id="toc-specify-the-type-of-return-value" class="nav-link" data-scroll-target="#specify-the-type-of-return-value"><span class="header-section-number">2.5.4</span> Specify the type of return value</a></li>
  <li><a href="#multiple-assignments-and-multiple-return-values" id="toc-multiple-assignments-and-multiple-return-values" class="nav-link" data-scroll-target="#multiple-assignments-and-multiple-return-values"><span class="header-section-number">2.5.5</span> Multiple assignments and multiple return values</a></li>
  <li><a href="#parameter-types" id="toc-parameter-types" class="nav-link" data-scroll-target="#parameter-types"><span class="header-section-number">2.5.6</span> Parameter types</a></li>
  <li><a href="#anonymous-functions" id="toc-anonymous-functions" class="nav-link" data-scroll-target="#anonymous-functions"><span class="header-section-number">2.5.7</span> Anonymous functions</a>
  <ul>
  <li><a href="#do-blocks" id="toc-do-blocks" class="nav-link" data-scroll-target="#do-blocks"><span class="header-section-number">2.5.7.1</span> <code>do</code> blocks</a></li>
  </ul></li>
  <li><a href="#the-splat-operator-..." id="toc-the-splat-operator-..." class="nav-link" data-scroll-target="#the-splat-operator-..."><span class="header-section-number">2.5.8</span> The splat operator <code>...</code></a></li>
  <li><a href="#closure" id="toc-closure" class="nav-link" data-scroll-target="#closure"><span class="header-section-number">2.5.9</span> Closure</a></li>
  <li><a href="#partial-function-application" id="toc-partial-function-application" class="nav-link" data-scroll-target="#partial-function-application"><span class="header-section-number">2.5.10</span> Partial function application</a></li>
  <li><a href="#function-composition-vectorization-and-piping" id="toc-function-composition-vectorization-and-piping" class="nav-link" data-scroll-target="#function-composition-vectorization-and-piping"><span class="header-section-number">2.5.11</span> Function composition, vectorization and piping</a>
  <ul>
  <li><a href="#function-composition" id="toc-function-composition" class="nav-link" data-scroll-target="#function-composition"><span class="header-section-number">2.5.11.1</span> Function composition</a></li>
  <li><a href="#dot-syntax-for-vectorizing-functions" id="toc-dot-syntax-for-vectorizing-functions" class="nav-link" data-scroll-target="#dot-syntax-for-vectorizing-functions"><span class="header-section-number">2.5.11.2</span> Dot syntax for vectorizing functions</a></li>
  <li><a href="#function-piping" id="toc-function-piping" class="nav-link" data-scroll-target="#function-piping"><span class="header-section-number">2.5.11.3</span> Function piping</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exception" id="toc-exception" class="nav-link" data-scroll-target="#exception"><span class="header-section-number">2.6</span> Exception</a></li>
  <li><a href="#metaprogramming" id="toc-metaprogramming" class="nav-link" data-scroll-target="#metaprogramming"><span class="header-section-number">2.7</span> Metaprogramming</a>
  <ul>
  <li><a href="#macros" id="toc-macros" class="nav-link" data-scroll-target="#macros"><span class="header-section-number">2.7.1</span> Macros</a>
  <ul>
  <li><a href="#useful-macros" id="toc-useful-macros" class="nav-link" data-scroll-target="#useful-macros"><span class="header-section-number">2.7.1.1</span> Useful macros</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#types" id="toc-types" class="nav-link" data-scroll-target="#types"><span class="header-section-number">2.8</span> Types</a>
  <ul>
  <li><a href="#basics-1" id="toc-basics-1" class="nav-link" data-scroll-target="#basics-1"><span class="header-section-number">2.8.1</span> Basics</a></li>
  <li><a href="#multiple-dispatch" id="toc-multiple-dispatch" class="nav-link" data-scroll-target="#multiple-dispatch"><span class="header-section-number">2.8.2</span> Multiple dispatch</a>
  <ul>
  <li><a href="#how-does-multiple-dispatch-work" id="toc-how-does-multiple-dispatch-work" class="nav-link" data-scroll-target="#how-does-multiple-dispatch-work"><span class="header-section-number">2.8.2.1</span> How does multiple dispatch work</a></li>
  <li><a href="#the-way-julia-selects-the-correct-method-of-a-function-for-each-situation" id="toc-the-way-julia-selects-the-correct-method-of-a-function-for-each-situation" class="nav-link" data-scroll-target="#the-way-julia-selects-the-correct-method-of-a-function-for-each-situation"><span class="header-section-number">2.8.2.2</span> The way Julia selects the correct method of a function for each situation</a></li>
  </ul></li>
  <li><a href="#conversion-and-promotion" id="toc-conversion-and-promotion" class="nav-link" data-scroll-target="#conversion-and-promotion"><span class="header-section-number">2.8.3</span> Conversion and promotion</a>
  <ul>
  <li><a href="#why-do-we-need-type-promotion" id="toc-why-do-we-need-type-promotion" class="nav-link" data-scroll-target="#why-do-we-need-type-promotion"><span class="header-section-number">2.8.3.1</span> Why do we need type promotion</a></li>
  <li><a href="#how-does-type-promotion-work" id="toc-how-does-type-promotion-work" class="nav-link" data-scroll-target="#how-does-type-promotion-work"><span class="header-section-number">2.8.3.2</span> How does type promotion work</a></li>
  <li><a href="#how-does-conversion-work" id="toc-how-does-conversion-work" class="nav-link" data-scroll-target="#how-does-conversion-work"><span class="header-section-number">2.8.3.3</span> How does conversion work</a></li>
  <li><a href="#an-example-extending-the-type-system" id="toc-an-example-extending-the-type-system" class="nav-link" data-scroll-target="#an-example-extending-the-type-system"><span class="header-section-number">2.8.3.4</span> An example extending the type system</a>
  <ul class="collapse">
  <li><a href="#defining-unit-types-and-constructors" id="toc-defining-unit-types-and-constructors" class="nav-link" data-scroll-target="#defining-unit-types-and-constructors"><span class="header-section-number">2.8.3.4.1</span> Defining unit types and constructors</a></li>
  <li><a href="#defining-accessors" id="toc-defining-accessors" class="nav-link" data-scroll-target="#defining-accessors"><span class="header-section-number">2.8.3.4.2</span> Defining accessors</a></li>
  <li><a href="#displaying-angles" id="toc-displaying-angles" class="nav-link" data-scroll-target="#displaying-angles"><span class="header-section-number">2.8.3.4.3</span> Displaying angles</a></li>
  <li><a href="#defining-type-conversions" id="toc-defining-type-conversions" class="nav-link" data-scroll-target="#defining-type-conversions"><span class="header-section-number">2.8.3.4.4</span> Defining type conversions</a></li>
  <li><a href="#defining-type-promotions" id="toc-defining-type-promotions" class="nav-link" data-scroll-target="#defining-type-promotions"><span class="header-section-number">2.8.3.4.5</span> Defining type promotions</a></li>
  <li><a href="#defining-arithmetic-operations" id="toc-defining-arithmetic-operations" class="nav-link" data-scroll-target="#defining-arithmetic-operations"><span class="header-section-number">2.8.3.4.6</span> Defining arithmetic operations</a></li>
  <li><a href="#making-pretty-literals-by-using-literal-coefficients" id="toc-making-pretty-literals-by-using-literal-coefficients" class="nav-link" data-scroll-target="#making-pretty-literals-by-using-literal-coefficients"><span class="header-section-number">2.8.3.4.7</span> Making pretty literals by using literal coefficients</a></li>
  <li><a href="#overriding-standard-sin-and-cos-functions-to-only-accept-dms-and-radian" id="toc-overriding-standard-sin-and-cos-functions-to-only-accept-dms-and-radian" class="nav-link" data-scroll-target="#overriding-standard-sin-and-cos-functions-to-only-accept-dms-and-radian"><span class="header-section-number">2.8.3.4.8</span> Overriding standard <code>sin()</code> and <code>cos()</code> functions to only accept <code>DMS</code> and <code>Radian</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#representing-unknown-values" id="toc-representing-unknown-values" class="nav-link" data-scroll-target="#representing-unknown-values"><span class="header-section-number">2.8.4</span> Representing unknown values</a>
  <ul>
  <li><a href="#to-solve-infinite-chain-of-initialization-using-parametric-type" id="toc-to-solve-infinite-chain-of-initialization-using-parametric-type" class="nav-link" data-scroll-target="#to-solve-infinite-chain-of-initialization-using-parametric-type"><span class="header-section-number">2.8.4.1</span> To solve infinite chain of initialization using parametric type</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#collections" id="toc-collections" class="nav-link" data-scroll-target="#collections"><span class="header-section-number">2.9</span> Collections</a>
  <ul>
  <li><a href="#strings" id="toc-strings" class="nav-link" data-scroll-target="#strings"><span class="header-section-number">2.9.1</span> Strings</a>
  <ul>
  <li><a href="#unicode-and-utf-8" id="toc-unicode-and-utf-8" class="nav-link" data-scroll-target="#unicode-and-utf-8"><span class="header-section-number">2.9.1.1</span> Unicode and UTF-8</a></li>
  <li><a href="#string-indexing" id="toc-string-indexing" class="nav-link" data-scroll-target="#string-indexing"><span class="header-section-number">2.9.1.2</span> String indexing</a></li>
  <li><a href="#string-operations" id="toc-string-operations" class="nav-link" data-scroll-target="#string-operations"><span class="header-section-number">2.9.1.3</span> String operations</a></li>
  <li><a href="#nonstandard-string-literals" id="toc-nonstandard-string-literals" class="nav-link" data-scroll-target="#nonstandard-string-literals"><span class="header-section-number">2.9.1.4</span> Nonstandard string literals</a></li>
  </ul></li>
  <li><a href="#arrays" id="toc-arrays" class="nav-link" data-scroll-target="#arrays"><span class="header-section-number">2.9.2</span> Arrays</a>
  <ul>
  <li><a href="#types-of-arrays" id="toc-types-of-arrays" class="nav-link" data-scroll-target="#types-of-arrays"><span class="header-section-number">2.9.2.1</span> Types of arrays</a></li>
  <li><a href="#creating-arrays-by-specific-functions" id="toc-creating-arrays-by-specific-functions" class="nav-link" data-scroll-target="#creating-arrays-by-specific-functions"><span class="header-section-number">2.9.2.2</span> Creating arrays by specific functions</a></li>
  <li><a href="#accessing-array-attributes" id="toc-accessing-array-attributes" class="nav-link" data-scroll-target="#accessing-array-attributes"><span class="header-section-number">2.9.2.3</span> Accessing array attributes</a></li>
  <li><a href="#operartions-on-arrays" id="toc-operartions-on-arrays" class="nav-link" data-scroll-target="#operartions-on-arrays"><span class="header-section-number">2.9.2.4</span> Operartions on arrays</a></li>
  <li><a href="#slicing-and-dicing-an-array" id="toc-slicing-and-dicing-an-array" class="nav-link" data-scroll-target="#slicing-and-dicing-an-array"><span class="header-section-number">2.9.2.5</span> Slicing and dicing an array</a></li>
  <li><a href="#combining-arrays" id="toc-combining-arrays" class="nav-link" data-scroll-target="#combining-arrays"><span class="header-section-number">2.9.2.6</span> Combining arrays</a></li>
  </ul></li>
  <li><a href="#tuples" id="toc-tuples" class="nav-link" data-scroll-target="#tuples"><span class="header-section-number">2.9.3</span> Tuples</a>
  <ul>
  <li><a href="#named-tuples" id="toc-named-tuples" class="nav-link" data-scroll-target="#named-tuples"><span class="header-section-number">2.9.3.1</span> Named tuples</a></li>
  </ul></li>
  <li><a href="#dictionaries" id="toc-dictionaries" class="nav-link" data-scroll-target="#dictionaries"><span class="header-section-number">2.9.4</span> Dictionaries</a>
  <ul>
  <li><a href="#creating-a-dictionary" id="toc-creating-a-dictionary" class="nav-link" data-scroll-target="#creating-a-dictionary"><span class="header-section-number">2.9.4.1</span> Creating a dictionary</a></li>
  <li><a href="#accessing-elements" id="toc-accessing-elements" class="nav-link" data-scroll-target="#accessing-elements"><span class="header-section-number">2.9.4.2</span> Accessing elements</a></li>
  </ul></li>
  <li><a href="#sets" id="toc-sets" class="nav-link" data-scroll-target="#sets"><span class="header-section-number">2.9.5</span> Sets</a></li>
  <li><a href="#collection-comprehension" id="toc-collection-comprehension" class="nav-link" data-scroll-target="#collection-comprehension"><span class="header-section-number">2.9.6</span> Collection comprehension</a></li>
  <li><a href="#generator" id="toc-generator" class="nav-link" data-scroll-target="#generator"><span class="header-section-number">2.9.7</span> Generator</a></li>
  <li><a href="#enumerating-values-and-indices" id="toc-enumerating-values-and-indices" class="nav-link" data-scroll-target="#enumerating-values-and-indices"><span class="header-section-number">2.9.8</span> Enumerating values and indices</a></li>
  <li><a href="#creating-an-enum-type-with-enum-macro" id="toc-creating-an-enum-type-with-enum-macro" class="nav-link" data-scroll-target="#creating-an-enum-type-with-enum-macro"><span class="header-section-number">2.9.9</span> Creating an <code>enum</code> type with <code>@enum</code> macro</a></li>
  <li><a href="#understanding-julia-collections" id="toc-understanding-julia-collections" class="nav-link" data-scroll-target="#understanding-julia-collections"><span class="header-section-number">2.9.10</span> Understanding Julia collections</a>
  <ul>
  <li><a href="#what-makes-something-a-collection" id="toc-what-makes-something-a-collection" class="nav-link" data-scroll-target="#what-makes-something-a-collection"><span class="header-section-number">2.9.10.1</span> What makes something a collection</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#functional-programming" id="toc-functional-programming" class="nav-link" data-scroll-target="#functional-programming"><span class="header-section-number">2.10</span> Functional programming</a>
  <ul>
  <li><a href="#higher-order-functions" id="toc-higher-order-functions" class="nav-link" data-scroll-target="#higher-order-functions"><span class="header-section-number">2.10.1</span> Higher order functions</a></li>
  </ul></li>
  <li><a href="#io" id="toc-io" class="nav-link" data-scroll-target="#io"><span class="header-section-number">2.11</span> I/O</a>
  <ul>
  <li><a href="#julias-io-system" id="toc-julias-io-system" class="nav-link" data-scroll-target="#julias-io-system"><span class="header-section-number">2.11.1</span> Julia’s I/O system</a></li>
  <li><a href="#text-io" id="toc-text-io" class="nav-link" data-scroll-target="#text-io"><span class="header-section-number">2.11.2</span> Text I/O</a>
  <ul>
  <li><a href="#print-text" id="toc-print-text" class="nav-link" data-scroll-target="#print-text"><span class="header-section-number">2.11.2.1</span> Print text</a></li>
  <li><a href="#align-text" id="toc-align-text" class="nav-link" data-scroll-target="#align-text"><span class="header-section-number">2.11.2.2</span> Align text</a></li>
  <li><a href="#reading-and-writing-text" id="toc-reading-and-writing-text" class="nav-link" data-scroll-target="#reading-and-writing-text"><span class="header-section-number">2.11.2.3</span> Reading and writing text</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#parametric-types" id="toc-parametric-types" class="nav-link" data-scroll-target="#parametric-types"><span class="header-section-number">2.12</span> Parametric types</a>
  <ul>
  <li><a href="#defining-parametric-methods" id="toc-defining-parametric-methods" class="nav-link" data-scroll-target="#defining-parametric-methods"><span class="header-section-number">2.12.1</span> Defining parametric methods</a></li>
  <li><a href="#defining-parametric-types" id="toc-defining-parametric-types" class="nav-link" data-scroll-target="#defining-parametric-types"><span class="header-section-number">2.12.2</span> Defining parametric types</a></li>
  </ul></li>
  <li><a href="#scope-of-variables" id="toc-scope-of-variables" class="nav-link" data-scroll-target="#scope-of-variables"><span class="header-section-number">2.13</span> Scope of variables</a>
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">2.13.1</span> Introduction</a></li>
  <li><a href="#scope-constructs" id="toc-scope-constructs" class="nav-link" data-scroll-target="#scope-constructs"><span class="header-section-number">2.13.2</span> Scope constructs</a></li>
  <li><a href="#global-scope" id="toc-global-scope" class="nav-link" data-scroll-target="#global-scope"><span class="header-section-number">2.13.3</span> Global scope</a></li>
  <li><a href="#local-scope" id="toc-local-scope" class="nav-link" data-scroll-target="#local-scope"><span class="header-section-number">2.13.4</span> Local scope</a></li>
  <li><a href="#let-blocks" id="toc-let-blocks" class="nav-link" data-scroll-target="#let-blocks"><span class="header-section-number">2.13.5</span> <code>let</code> blocks</a></li>
  <li><a href="#loops" id="toc-loops" class="nav-link" data-scroll-target="#loops"><span class="header-section-number">2.13.6</span> Loops</a></li>
  <li><a href="#constants" id="toc-constants" class="nav-link" data-scroll-target="#constants"><span class="header-section-number">2.13.7</span> Constants</a></li>
  <li><a href="#typed-globals" id="toc-typed-globals" class="nav-link" data-scroll-target="#typed-globals"><span class="header-section-number">2.13.8</span> Typed globals</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#julia-documentation-system" id="toc-julia-documentation-system" class="nav-link" data-scroll-target="#julia-documentation-system"><span class="header-section-number">3</span> Julia documentation system</a></li>
  <li><a href="#modules-and-pakcages" id="toc-modules-and-pakcages" class="nav-link" data-scroll-target="#modules-and-pakcages"><span class="header-section-number">4</span> Modules and Pakcages</a>
  <ul>
  <li><a href="#modules" id="toc-modules" class="nav-link" data-scroll-target="#modules"><span class="header-section-number">4.1</span> Modules</a>
  <ul>
  <li><a href="#namespace-management" id="toc-namespace-management" class="nav-link" data-scroll-target="#namespace-management"><span class="header-section-number">4.1.1</span> Namespace management</a>
  <ul>
  <li><a href="#qualified-names" id="toc-qualified-names" class="nav-link" data-scroll-target="#qualified-names"><span class="header-section-number">4.1.1.1</span> Qualified names</a></li>
  <li><a href="#export-lists" id="toc-export-lists" class="nav-link" data-scroll-target="#export-lists"><span class="header-section-number">4.1.1.2</span> Export lists</a></li>
  <li><a href="#using-and-import" id="toc-using-and-import" class="nav-link" data-scroll-target="#using-and-import"><span class="header-section-number">4.1.1.3</span> <code>using</code> and <code>import</code></a></li>
  </ul></li>
  <li><a href="#how-does-julia-find-a-module" id="toc-how-does-julia-find-a-module" class="nav-link" data-scroll-target="#how-does-julia-find-a-module"><span class="header-section-number">4.1.2</span> How does Julia find a module</a></li>
  </ul></li>
  <li><a href="#standard-modules" id="toc-standard-modules" class="nav-link" data-scroll-target="#standard-modules"><span class="header-section-number">4.2</span> Standard modules</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><span class="header-section-number">4.3</span> Packages</a></li>
  </ul></li>
  <li><a href="#environments" id="toc-environments" class="nav-link" data-scroll-target="#environments"><span class="header-section-number">5</span> Environments</a></li>
  <li><a href="#appendices" id="toc-appendices" class="nav-link" data-scroll-target="#appendices"><span class="header-section-number">6</span> Appendices</a>
  <ul>
  <li><a href="#julia-installation-and-configuration" id="toc-julia-installation-and-configuration" class="nav-link" data-scroll-target="#julia-installation-and-configuration"><span class="header-section-number">6.1</span> Julia installation and configuration</a></li>
  <li><a href="#julia-repl-mode" id="toc-julia-repl-mode" class="nav-link" data-scroll-target="#julia-repl-mode"><span class="header-section-number">6.2</span> Julia REPL mode</a></li>
  <li><a href="#installing-third-party-packages" id="toc-installing-third-party-packages" class="nav-link" data-scroll-target="#installing-third-party-packages"><span class="header-section-number">6.3</span> Installing third-party packages</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Julia Basics</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rui Yang </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 16, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="julia-pros-and-cons" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="julia-pros-and-cons"><span class="header-section-number">1</span> Julia pros and cons</h2>
<section id="pros" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="pros"><span class="header-section-number">1.1</span> Pros</h3>
<ul>
<li>Interactive programming</li>
</ul>
<p>Julia is a dynamically typed language, in contrast with statically typed languages.</p>
<ul>
<li>High performance</li>
</ul>
<p>Julia uses just-in-time compilation (JIT), compilation at run time.</p>
<p>Typically, JIT continuously analyses the code being executed and identifies parts of the code where the speedup gained from compilation or recompilation would outweigh the overhead of compiling that code.</p>
<p>Therefore, JIT combines advantages of ahead-of-time compilation (AOT, compilation before execution) and interpretation.</p>
<p>Due to the ecosystem of packages, Julia is really suitable for scientific computing, but it can also be used as a general-purpose programming language.</p>
</section>
<section id="cons" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="cons"><span class="header-section-number">1.2</span> Cons</h3>
<p>Julia starts more slowly than Python, R, etc. but begins to run faster once the JIT compiler has converted critical parts of the code to machine code; thus it’s not suitable for:</p>
<ul>
<li><p>Programming small, short-running scripts.</p></li>
<li><p>Real-time systems (Julia implements automatic garbage collection, which tends to introduce small random delays).</p></li>
<li><p>System programming (it needs detailed control of resource usage).</p></li>
<li><p>Embedded systems with limited memory.</p></li>
</ul>
</section>
</section>
<section id="basics" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="basics"><span class="header-section-number">2</span> Basics</h2>
<section id="arithmetic-operations-and-number-types" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="arithmetic-operations-and-number-types"><span class="header-section-number">2.1</span> Arithmetic operations and number types</h3>
<section id="arithmetic-operations" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="arithmetic-operations"><span class="header-section-number">2.1.1</span> Arithmetic operations</h4>
<p>Addition, subtraction, multiplication, division, and power: <code>+ - * / ^</code>.</p>
</section>
<section id="number-types" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="number-types"><span class="header-section-number">2.1.2</span> Number types</h4>
<ul>
<li><p>Signed integers: <code>Int8</code>, <code>Int16</code>, <code>Int32</code>, <code>Int64</code> (default), <code>Int128</code>, <code>BigInt</code>.</p></li>
<li><p>Unsigned integers: <code>UInt8</code>, <code>UInt16</code>, <code>UInt32</code>, <code>UInt64</code>, <code>UInt128</code>.</p></li>
</ul>
<p>You can check the minimum and maximum values of a certain integer type with <code>typemin()</code> and <code>typemax()</code>.</p>
<p>You can check the type of the input argument with <code>typeof()</code>.</p>
<p>Julia defaults to showing all signed integers in decimal format, and all unsigned integers in hexadecimal format.</p>
<p>In fact, what is stored in memory is no difference. The only difference is how to interpret it. You can use the <code>reinterpret()</code> function to see how the exactly same bits in memory can be interpreted differently.</p>
<ul>
<li>Floating-point numbers: <code>Float16</code>, <code>Float32</code>, <code>Float64</code> (default).</li>
</ul>
<p>You can type a <code>Float32</code> number by suffixing <code>f0</code>: <code>3.14f0</code>.</p>
<ul>
<li><p><code>Rational</code> type: <code>2 // 5</code> represents a rational number <span class="math inline">\(\frac{2}{5}\)</span>.</p></li>
<li><p><code>Complex</code> type: <code>1 + 2im</code>.</p></li>
</ul>
</section>
<section id="arithmetic-operations-for-integers" class="level4" data-number="2.1.3">
<h4 data-number="2.1.3" class="anchored" data-anchor-id="arithmetic-operations-for-integers"><span class="header-section-number">2.1.3</span> Arithmetic operations for integers</h4>
<ul>
<li><code>/</code> always gives floating-point number</li>
</ul>
<div id="5e92c685" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fl">4</span> <span class="op">/</span> <span class="fl">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>2.0</code></pre>
</div>
</div>
<ul>
<li><code>÷</code> or <code>div()</code> gives the quotient</li>
</ul>
<div id="d70d8bb3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fl">5</span> <span class="op">÷</span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>1</code></pre>
</div>
</div>
<div id="849cc4fd" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">div</span>(<span class="fl">5</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>1</code></pre>
</div>
</div>
<ul>
<li><code>%</code> or <code>rem()</code> gives the remainder</li>
</ul>
<div id="ae8f188b" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fl">5</span> <span class="op">%</span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>2</code></pre>
</div>
</div>
<div id="76ad69e6" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rem</span>(<span class="fl">5</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>2</code></pre>
</div>
</div>
<ul>
<li><code>divrem()</code> gives both quotient and remainder</li>
</ul>
<div id="492aaf1f" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">divrem</span>(<span class="fl">5</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>(1, 2)</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Typically, operations on the same type of values always give the same type of value, even though overflow may occur.</p>
<p>Even though overflow will occur, Julia won’t give any prompt.</p>
</div>
</div>
</section>
</section>
<section id="variables" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="variables"><span class="header-section-number">2.2</span> Variables</h3>
<p>In julia, identifiers can be used to give names to constants, variables, types, and functions.</p>
<p>Variables defining memory addresses where values are stored, are only references to values, because Julia allocates memory based on values, not variables.</p>
<p>In comparison with this, statically typed languages allocate memory based on variables, so you must first decalre the type of a variable (e.g., <code>int</code>) before using it, which will allocate a predefined size (which depends on the type of the variable) in a predefined location in memory to this variable. As a consequence, you should never attempt to assign a value that cannot fit inside the memory slot set aside for the variable to this variable.</p>
<ol type="1">
<li>The equal sign (<code>=</code>) operator is used to assign values to variables (i.e., let a variable point to a value):</li>
</ol>
<div id="7d29f52f" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>1</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Allowed variable names:</li>
</ol>
<ul>
<li><p>Leading characters: letters, underscore, Unicode code points greater than 00A0.</p></li>
<li><p>Subsequent characters: other Unicode code points.</p></li>
<li><p>Variable names containing only underscores can only be assigned values, which are immediately discarded.</p></li>
<li><p>Explicitly disallowed variable names: built-in keywords.</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>To type many special characters, like Unicode math symbols, you can type the backslashed LaTeX symbol name followed by tab.</p>
<p>If you find a symbol elsewhere, which you don’t know how to type, the REPL help will tell you: just type ? and then paste the symbol.</p>
</div>
</div>
<ol start="3" type="1">
<li>My own rules for clarity:</li>
</ol>
<ul>
<li><p>Can only contain letters, underscore, and numbers.</p></li>
<li><p>Can only start with letters.</p></li>
</ul>
<ol start="4" type="1">
<li>Two special variables:</li>
</ol>
<ul>
<li>Constants: defined with the <code>const</code> keyword.</li>
</ul>
<div id="647079bb" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> my_pi <span class="op">=</span> <span class="fl">3.14</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>3.14</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can still assign a new value <strong>with the same type as the original one</strong> to a constant, but a warning is printed.</p>
</div>
</div>
<ul>
<li>The <code>ans</code> variable: in interactive mode, Julia REPL assigns the value of the last expression to the <code>ans</code> (answer) variable.</li>
</ul>
<ol start="5" type="1">
<li>Literal coefficient</li>
</ol>
<p>In mathematics, <code>3×x + 2×y</code> may be written as <code>3x + 2y</code>. Julia lets you write a multiplication in the same manner. We refer to this as literal coefficient, which is a shorthand for multiplication between <strong>a number literal</strong> and <strong>a constant or variable</strong>:</p>
<div id="dd8e369f" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span>x</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span><span class="fu">*</span>(<span class="fl">3</span><span class="op">+</span><span class="fl">2</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span>(<span class="fl">3</span><span class="op">+</span><span class="fl">2</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span><span class="op">*</span><span class="cn">π</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span>π</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="relation-and-logical-operations" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="relation-and-logical-operations"><span class="header-section-number">2.3</span> Relation and logical operations</h3>
<section id="relation-operations" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="relation-operations"><span class="header-section-number">2.3.1</span> Relation operations</h4>
<p><code>==, != or ≠, &lt;, &gt;, &lt;= or ≤, &gt;= or ≥</code></p>
<p>The operation result is <code>true</code> or <code>false</code>, which is <code>Bool</code> type.</p>
</section>
<section id="logical-operations" class="level4" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="logical-operations"><span class="header-section-number">2.3.2</span> Logical operations</h4>
<p><code>&amp;&amp;, ||, !</code></p>
<p>The logical evaluation is lazy.</p>
<p>Suppose <code>i = 10</code>, and then <code>1 &lt;= i &lt;= 100</code> is equivalent to <code>i &gt;= 1 &amp;&amp; i &lt;= 100</code>.</p>
</section>
</section>
<section id="control-flow" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="control-flow"><span class="header-section-number">2.4</span> Control flow</h3>
<section id="comment" class="level4" data-number="2.4.1">
<h4 data-number="2.4.1" class="anchored" data-anchor-id="comment"><span class="header-section-number">2.4.1</span> Comment</h4>
<p>In Julial, you can give an inline comment by using <code>#</code>, or multiline comment by using <code>#=...=#</code>.</p>
</section>
<section id="compound-expressions" class="level4" data-number="2.4.2">
<h4 data-number="2.4.2" class="anchored" data-anchor-id="compound-expressions"><span class="header-section-number">2.4.2</span> Compound expressions</h4>
<p>To have a single expression which evaluates several subexpressions in order, returning the value of the last subexpression as its value.</p>
<ol type="1">
<li><code>;</code> chain</li>
</ol>
<p>Put all subexpressions separated by <code>;</code> inside parentheses.</p>
<div id="4bb1ae62" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> (x <span class="op">=</span> <span class="fl">1</span>; y <span class="op">=</span> <span class="fl">2</span>; x <span class="op">+</span> y)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> (x <span class="op">=</span> <span class="fl">1</span>;</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>     y <span class="op">=</span> <span class="fl">2</span>;</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>     x <span class="op">+</span> y)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>3</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><code>begin</code> block</li>
</ol>
<p>Put all subexpressions separated by a newline character between <code>begin</code> and <code>end</code> keywords.</p>
<p>You can also put all subexpressions in one line by separating them with <code>;</code>.</p>
<div id="0ab2cf8f" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> <span class="cf">begin</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">1</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    x <span class="op">+</span> y</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> <span class="cf">begin</span> x <span class="op">=</span> <span class="fl">1</span>; y <span class="op">=</span> <span class="fl">2</span>; x <span class="op">+</span> y <span class="cf">end</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>3</code></pre>
</div>
</div>
<p>This is quite useful for the inline function definition.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>For multiple statements, you can put them in one line and separate them with <code>;</code>, which is not the same thing as compound expressions:</p>
<div id="914a5205" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span>; <span class="fu">println</span>(<span class="st">"x=</span><span class="sc">$</span>x<span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x=3</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="short-circuit-evaluation" class="level4" data-number="2.4.3">
<h4 data-number="2.4.3" class="anchored" data-anchor-id="short-circuit-evaluation"><span class="header-section-number">2.4.3</span> Short-circuit evaluation</h4>
<ol type="1">
<li><p><code>cond &amp;&amp; expr</code>: evaluate <code>expr</code> if and only if <code>cond</code> is <code>true</code>.</p></li>
<li><p><code>cond || expr</code>: evaluate <code>expr</code> if and only if <code>cond</code> is <code>false</code>.</p></li>
</ol>
</section>
<section id="conditional-evaluation" class="level4" data-number="2.4.4">
<h4 data-number="2.4.4" class="anchored" data-anchor-id="conditional-evaluation"><span class="header-section-number">2.4.4</span> Conditional evaluation</h4>
<div id="6a4f8806" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> cond1</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    statements</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="cf">elseif</span> cond2</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    statements</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">...</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    statements</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ternary operator: <code>cond ? expr1 : expr2</code>, which is closely equivalent to <code>if cond expr1 else expr2</code>.</p>
</div>
</div>
</section>
<section id="looping" class="level4" data-number="2.4.5">
<h4 data-number="2.4.5" class="anchored" data-anchor-id="looping"><span class="header-section-number">2.4.5</span> Looping</h4>
<ol type="1">
<li><code>while</code></li>
</ol>
<div id="bd7becc8" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> cond</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    statements</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>‘for’</li>
</ol>
<div id="39c01b34" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> var <span class="kw">in</span> iterable</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    statements</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For <code>for</code> loop, <code>var in iterable</code>, <code>var ∈ iterable</code>, and <code>var = iterable</code> are equivalent to one another!</p>
<div class="callout callout-style-default callout-note callout-titled" title="Member operator `in` or `∈`">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="" id="nte-memberoperator"></a>Note&nbsp;1: Member operator <code>in</code> or <code>∈</code>
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><code>in(collection)</code> or <code>∈(collection)</code> creates a function which checks whether its argument is in collection:</li>
</ol>
<div id="d95ed523" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="fu">in</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">10</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>true</code></pre>
</div>
</div>
<p>Note: <code>start:stop</code> will generate a number sequence with step 1; <code>start:step:stop</code> with step <code>step</code>.</p>
<ol start="2" type="1">
<li><code>in(item, collection)</code> or <code>∈(item, collection)</code> determines whether an item is in the given collection:</li>
</ol>
<div id="23179d75" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">in</span>(<span class="fl">1</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>true</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Sets check whether the item is equal to one of the elements:</li>
</ol>
<div id="268bbc86" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> <span class="kw">in</span> <span class="fu">Set</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>true</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Dicts look for <code>key=&gt;value</code> pairs:</li>
</ol>
<div id="e8f488ca" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>(<span class="fl">1</span><span class="op">=&gt;</span><span class="fl">10</span>) <span class="kw">in</span> <span class="fu">Dict</span>(<span class="fl">1</span><span class="op">=&gt;</span><span class="fl">10</span>, <span class="fl">2</span><span class="op">=&gt;</span><span class="fl">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>true</code></pre>
</div>
</div>
<ol start="5" type="1">
<li><code>in.(items, collection)</code> or <code>items .∈ collection</code> checks whether each value in <code>items</code> and each value in <code>collection</code> at the corresponding position are the same one:</li>
</ol>
<p>If either <code>items</code> or <code>collection</code> contains only one element, it will be broadcasted to the same length as the longer.</p>
<div id="c04aa9b2" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">in</span>.([<span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>], [<span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>3-element BitVector:
 1
 0
 1</code></pre>
</div>
</div>
<ol start="6" type="1">
<li><code>in.(items, Ref(collection))</code> or <code>items .∈ Ref(collection)</code> checks whether each value in <code>items</code> is in <code>collection</code>:</li>
</ol>
<p><code>Ref(collection)</code> can also be written as <code>(collection,)</code> (i.e.&nbsp;wrap <code>collection</code> in a tuple or a <code>Ref</code>).</p>
<p>Note: create a tuple containing only one element with <code>(1,)</code>.</p>
<div id="b9dc35da" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">in</span>.([<span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>], <span class="fu">Ref</span>([<span class="fl">8</span>, <span class="fl">6</span>, <span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>3-element BitVector:
 1
 1
 1</code></pre>
</div>
</div>
<p><code>in.</code> does not support infix form!</p>
<p><code>in</code>, <code>∈</code>, and <code>.∈</code> support both forms!</p>
<p>In contrary to <code>∈</code> (<code>\in&lt;tab&gt;</code>), <code>∋</code> (<code>\ni&lt;tab&gt;</code>), and <code>.∈</code>, we have, <code>∉</code> (<code>\notin&lt;tab&gt;</code>), <code>∌</code> (<code>\nni&lt;tab&gt;</code>), and <code>.∉</code>.</p>
</div>
</div>
</section>
<section id="jump-out-of-loops" class="level4" data-number="2.4.6">
<h4 data-number="2.4.6" class="anchored" data-anchor-id="jump-out-of-loops"><span class="header-section-number">2.4.6</span> Jump out of loops</h4>
<ol type="1">
<li><p><code>break</code>: jump out of the loop in which <code>break</code> is.</p></li>
<li><p><code>continue</code>: stop an interation and move on to the next one.</p></li>
<li><p><code>@goto name</code> and <code>@label name</code>: <code>@goto name</code> unconditionally jumps to the statement at the location <code>@label name</code>.</p></li>
</ol>
</section>
</section>
<section id="functions" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="functions"><span class="header-section-number">2.5</span> Functions</h3>
<section id="inline-functions" class="level4" data-number="2.5.1">
<h4 data-number="2.5.1" class="anchored" data-anchor-id="inline-functions"><span class="header-section-number">2.5.1</span> Inline functions</h4>
<p><code>&lt;function name&gt;(&lt;parameters&gt;) = &lt;expression&gt;</code>:</p>
<div id="037c9510" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cylinder_volume</span>(r, h) <span class="op">=</span> <span class="cn">π</span><span class="op">*</span>r<span class="op">^</span><span class="fl">2</span><span class="op">*</span>h</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cylinder_volume</span>(<span class="fl">5</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>235.61944901923448</code></pre>
</div>
</div>
</section>
<section id="multiline-functions" class="level4" data-number="2.5.2">
<h4 data-number="2.5.2" class="anchored" data-anchor-id="multiline-functions"><span class="header-section-number">2.5.2</span> Multiline functions</h4>
<div id="d2b5cec0" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="op">&lt;</span><span class="kw">function</span> <span class="fu">name&gt;</span>(parameters)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In Julia, <code>return &lt;value&gt;</code> is not necessary. <strong>It is only used when you need to exit a function early; otherwise the value of the last expression will always be returned.</strong></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Functions are central to Julia! Various interfaces are achieved by functions even though they don’t look like functions.</p>
<ul>
<li>Infix form</li>
</ul>
<div id="8b867890" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fl">5</span> <span class="op">+</span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>8</code></pre>
</div>
</div>
<ul>
<li>Prefix form</li>
</ul>
<div id="03293f57" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">+</span>(<span class="fl">5</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>13</code></pre>
</div>
</div>
<p>If a function with a symbol name takes two arguments, we can use it by infix form:</p>
<div id="70e43ce3" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">↔</span>(x, y) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span> <span class="op">+</span> y<span class="op">^</span><span class="fl">2</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fl">6</span> <span class="op">↔</span> <span class="fl">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>72</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="argument-passing-behaviour" class="level4" data-number="2.5.3">
<h4 data-number="2.5.3" class="anchored" data-anchor-id="argument-passing-behaviour"><span class="header-section-number">2.5.3</span> Argument passing behaviour</h4>
<p>Pass-by-sharing!</p>
</section>
<section id="specify-the-type-of-return-value" class="level4" data-number="2.5.4">
<h4 data-number="2.5.4" class="anchored" data-anchor-id="specify-the-type-of-return-value"><span class="header-section-number">2.5.4</span> Specify the type of return value</h4>
<p>You can specify the type of return value of a function in the form <code>FuncName(parameters)::ReturnType</code>.</p>
<p>If the type of return value is not the given type, a conversion is attempted with <code>convert()</code>.</p>
<div id="e136a8ae" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">foo</span>(x<span class="op">::</span><span class="dt">Int64</span>) <span class="op">::</span><span class="dt"> Int32 </span><span class="op">=</span> <span class="fl">2</span>x</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">foo</span>(<span class="fl">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>Int32</code></pre>
</div>
</div>
</section>
<section id="multiple-assignments-and-multiple-return-values" class="level4" data-number="2.5.5">
<h4 data-number="2.5.5" class="anchored" data-anchor-id="multiple-assignments-and-multiple-return-values"><span class="header-section-number">2.5.5</span> Multiple assignments and multiple return values</h4>
<ol type="1">
<li>Multiple assignments</li>
</ol>
<p>Achieved by using (named) tuples.</p>
<div id="43c9ad8f" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(a, b, c) <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>  <span class="co"># Assign each variable a value; parentheses are optional</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>_, _, a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>  <span class="co"># Use _ to discard unwanted values</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>a, b<span class="op">...</span>, c <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>  <span class="co"># a -&gt; 1, b -&gt; 2:5, c -&gt; 6; b... indicates that b is a collection (b doesn't need to be the final one)</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>(; b, a) <span class="op">=</span> (a<span class="op">=</span><span class="fl">1</span>, b<span class="op">=</span><span class="fl">2</span>, c<span class="op">=</span><span class="fl">3</span>)  <span class="co"># Assign values to variables based on names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Multiple return values</li>
</ol>
</section>
<section id="parameter-types" class="level4" data-number="2.5.6">
<h4 data-number="2.5.6" class="anchored" data-anchor-id="parameter-types"><span class="header-section-number">2.5.6</span> Parameter types</h4>
<ol type="1">
<li><p>Positional parameters: non-optional; optional with defaults.</p></li>
<li><p>Keyword parameters: non-optional; optional with defaults.</p></li>
</ol>
<div id="19d510e9" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>(a, b <span class="op">=</span> <span class="fl">1</span>; c, d <span class="op">=</span> <span class="fl">2</span>)  <span class="co"># Keyword arguments are defined after ;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional arguments: a, b (optional)</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Keyword arguments: c, d (optional)</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="co"># When you pass arguments, either will be fine:</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>(<span class="fl">1</span>, <span class="fl">2</span>; c <span class="op">=</span> <span class="fl">3</span>, d <span class="op">=</span> <span class="fl">4</span>)  <span class="co"># Separated by ;</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>(<span class="fl">1</span>, <span class="fl">2</span>, c <span class="op">=</span> <span class="fl">3</span>, d <span class="op">=</span> <span class="fl">4</span>)  <span class="co"># Separated by ,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Multiple dispatch only considers <strong>positional arguments</strong>.</p>
</div>
</div>
</section>
<section id="anonymous-functions" class="level4" data-number="2.5.7">
<h4 data-number="2.5.7" class="anchored" data-anchor-id="anonymous-functions"><span class="header-section-number">2.5.7</span> Anonymous functions</h4>
<p>Anonymous functions play an important role in functional programming.</p>
<p>An anonymous function can be defined in two ways:</p>
<ol type="1">
<li><p>Inline style: <code>(&lt;parameters&gt;) -&gt; &lt;expression&gt;</code> (<code>()</code> can be omitted if it only has a single parameter).</p></li>
<li><p>Multiline style:</p></li>
</ol>
<div id="8df750e4" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> (<span class="op">&lt;</span>parameters<span class="op">&gt;</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="do-blocks" class="level5" data-number="2.5.7.1">
<h5 data-number="2.5.7.1" class="anchored" data-anchor-id="do-blocks"><span class="header-section-number">2.5.7.1</span> <code>do</code> blocks</h5>
<p>We can use <code>do</code> blocks to create mutiline anonymous functions.</p>
<p>The following two statements are equivalent:</p>
<div id="b727530b" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(x <span class="op">-&gt;</span> <span class="cf">begin</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> x <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span> <span class="fu">iseven</span>(x)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">return</span> <span class="fl">0</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>              <span class="cf">elseif</span> x <span class="op">==</span> <span class="fl">0</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">return</span> <span class="fl">1</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">return</span> x</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>              <span class="cf">end</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>         <span class="cf">end</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    [<span class="op">-</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>3-element Vector{Int64}:
 0
 1
 2</code></pre>
</div>
</div>
<div id="0640b0f0" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>([<span class="op">-</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">2</span>]) <span class="cf">do</span> x</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span> <span class="fu">iseven</span>(x)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">0</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elseif</span> x <span class="op">==</span> <span class="fl">0</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">1</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> x</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>3-element Vector{Int64}:
 0
 1
 2</code></pre>
</div>
</div>
<p>In the above example, the <code>do x</code> syntax creates an anonymous function with argument <code>x</code> and passes it as the first argument to <code>map()</code>.</p>
<p>Similarly, <code>do x, y</code> will create a two-argument anonymous function but <code>do (x, y)</code> will create a one-argument anonymous function, whose argument is a tuple.</p>
<p><strong>In a word, we can use <code>do</code> blocks to create anonymous functions which are passed as the first argument to some higher-order functions, the first argument of which must be the <code>Function</code> type.</strong></p>
</section>
</section>
<section id="the-splat-operator-..." class="level4" data-number="2.5.8">
<h4 data-number="2.5.8" class="anchored" data-anchor-id="the-splat-operator-..."><span class="header-section-number">2.5.8</span> The splat operator <code>...</code></h4>
<p>The splat operator can be used to turn arrays or tuples into function arguments.</p>
<p>e.g.&nbsp;<code>foo([1, 2, 3]...)</code> is the same as <code>foo(1, 2, 3)</code>.</p>
<p>You can define a parameter which accepts a variable number of arguments by using the splat operator:</p>
<div id="04730eb3" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># All arguments except the 1st will be stored in a tuple, assigned to args</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">var_f</span>(x, args<span class="op">...</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="closure" class="level4" data-number="2.5.9">
<h4 data-number="2.5.9" class="anchored" data-anchor-id="closure"><span class="header-section-number">2.5.9</span> Closure</h4>
<p>A <em>closure</em> is a function that has captured some external state not supplied as an argument since the inner scope can use variables defined in an outter scope.</p>
<p>Anonymous functions are frequently used as closures.</p>
<div id="bb4ebd2a" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">make_pow</span>(n<span class="op">::</span><span class="dt">Real</span>)  <span class="co"># Outer function</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> (x<span class="op">::</span><span class="dt">Real</span>)  <span class="co"># Inner function</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>        x<span class="op">^</span>n  <span class="co"># The inner function uses n defined outside it and n is not passed as an argument to it</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>pow2 <span class="op">=</span> <span class="fu">make_pow</span>(<span class="fl">2</span>)  <span class="co"># The returned function with n=2 is assigned to variable pow2</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>pow3 <span class="op">=</span> <span class="fu">make_pow</span>(<span class="fl">3</span>)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="fu">pow2</span>(<span class="fl">2</span>), <span class="fu">pow3</span>(<span class="fl">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>(4, 8)</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Performance of captured variable">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Performance of captured variable
</div>
</div>
<div class="callout-body-container callout-body">
<p>For the consideration of performance, if the type of a captured variable is already known, you would better <strong>add a type annotation to it</strong>. In addition, if the value of this captured variable need not be changed after the closure is created, <strong>you can indicate it with a <code>let</code> block</strong>:</p>
<div id="b51b9fc3" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">abmult</span>(r<span class="op">::</span><span class="dt">Int</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    r1<span class="op">::</span><span class="dt">Int </span><span class="op">=</span> r  <span class="co"># Type annotation</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> r1 <span class="op">&lt;</span> <span class="fl">0</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>        r1 <span class="op">=</span> <span class="op">-</span>r1</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    f <span class="op">=</span> <span class="kw">let</span> r1 <span class="op">=</span> r1  <span class="co"># Fix it</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>            x <span class="op">-&gt;</span> x <span class="op">*</span> r1</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> f</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="fu">abmult</span>(<span class="fl">10</span>)</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="fl">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>100</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="partial-function-application" class="level4" data-number="2.5.10">
<h4 data-number="2.5.10" class="anchored" data-anchor-id="partial-function-application"><span class="header-section-number">2.5.10</span> Partial function application</h4>
<p>Partial function application refers to the process of fixing a number of arguments to a function, producing another function accepting fewer arguments.</p>
<p>Obviously, closure is a way to achieve the partial function application.</p>
</section>
<section id="function-composition-vectorization-and-piping" class="level4" data-number="2.5.11">
<h4 data-number="2.5.11" class="anchored" data-anchor-id="function-composition-vectorization-and-piping"><span class="header-section-number">2.5.11</span> Function composition, vectorization and piping</h4>
<section id="function-composition" class="level5" data-number="2.5.11.1">
<h5 data-number="2.5.11.1" class="anchored" data-anchor-id="function-composition"><span class="header-section-number">2.5.11.1</span> Function composition</h5>
<p>The concept of function composition in Julia is the very concept of function composition in mathematics and the operation symbol is the same one: <code>∘</code>, typed using <code>\circ&lt;tab&gt;</code> (e.g.&nbsp;<code>(f ∘ g)(args...)</code> is the same as <code>f(g(args...))</code>).</p>
<div id="ef8cdef4" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>(sqrt <span class="op">∘</span> <span class="op">+</span>)(<span class="fl">3</span>, <span class="fl">6</span>)  <span class="co"># Equivalent to sqrt(+(3, 6))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>3.0</code></pre>
</div>
</div>
</section>
<section id="dot-syntax-for-vectorizing-functions" class="level5" data-number="2.5.11.2">
<h5 data-number="2.5.11.2" class="anchored" data-anchor-id="dot-syntax-for-vectorizing-functions"><span class="header-section-number">2.5.11.2</span> Dot syntax for vectorizing functions</h5>
<p>In Julia, vectorized functions are not required for performance, and indeed it is often beneficial to write your own loops, but they can still be convenient.</p>
<p>You can add a dot <code>.</code> <strong>after regular function names</strong> (e.g.&nbsp;<code>f</code>) or <strong>before special operators</strong> (e.g.&nbsp;<code>+</code>) to get their vectorized versions.</p>
<ol type="1">
<li>Operating on a single array:</li>
</ol>
<div id="67b493cd" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>.(A)  <span class="co"># Which is equivalent to map(sin, A) or broadcast(sin, A)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>3-element Vector{Float64}:
 0.8414709848078965
 0.9092974268256817
 0.1411200080598672</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Operating on multiple arrays (even of different shapes), or a mix of arrays and scalars:</li>
</ol>
<div id="03c581a3" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fp</span>(x, y) <span class="op">=</span> <span class="fl">3</span>x <span class="op">+</span> <span class="fl">4</span>y</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="fu">fp</span>.(<span class="cn">pi</span>, A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>3-element Vector{Float64}:
 13.42477796076938
 17.42477796076938
 21.42477796076938</code></pre>
</div>
</div>
<div id="ac472ebe" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fp</span>.(A, B)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>3-element Vector{Int64}:
 19
 26
 33</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><p>Keyword arguments are not broadcasted over, but are simply passed through to each of the function.</p></li>
<li><p>Nested <code>f.(args...)</code> calls are fused into a single broadcast loop.</p></li>
</ol>
<div id="f7773e9f" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>.(<span class="fu">cos</span>.(X))  <span class="co"># Equivalent to broadcast(x -&gt; sin(cos(x)), X)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>6-element Vector{Float64}:
  0.5143952585235492
 -0.4042391538522658
 -0.8360218615377305
 -0.6080830096407656
  0.2798733507685274
  0.819289219220601</code></pre>
</div>
</div>
<p>However, the fusion stops as soon as a “non-dot” function call is encountered (e.g.&nbsp;<code>sin.(sort(cos.(X)))</code>).</p>
<ol start="5" type="1">
<li>The maximum efficiency is typically achieved when the output array of a vectorized operation is pre-alllocated.</li>
</ol>
<div id="73c3136b" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10000</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@time</span> <span class="fu">sin</span>.(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0.000146 seconds (5 allocations: 78.266 KiB)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>10000-element Vector{Float64}:
  0.8414709848078965
  0.9092974268256817
  0.1411200080598672
 -0.7568024953079282
 -0.9589242746631385
 -0.27941549819892586
  0.6569865987187891
  0.9893582466233818
  0.4121184852417566
 -0.5440211108893698
 -0.9999902065507035
 -0.5365729180004349
  0.4201670368266409
  ⋮
 -0.9534986003597155
 -0.26156028858731495
  0.6708553462651908
  0.9864896695694187
  0.39514994010172155
 -0.5594888219681838
 -0.9997361413354392
 -0.5208306628783247
  0.4369241250954582
  0.9929728874353159
  0.6360869563962336
 -0.30561438888825215</code></pre>
</div>
</div>
<div id="db6556ba" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> <span class="fu">Vector</span><span class="dt">{Float64}</span>(<span class="cn">undef</span>, <span class="fl">10000</span>)  <span class="co"># Construct an uninitialized (undef) Vector{Float64} of length 10000</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@time</span> Y <span class="op">.=</span> <span class="fu">sin</span>.(X)  <span class="co"># Overwrite Y with sin.(X) in-place</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0.014226 seconds (11.35 k allocations: 794.835 KiB, 98.91% compilation time)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>10000-element Vector{Float64}:
  0.8414709848078965
  0.9092974268256817
  0.1411200080598672
 -0.7568024953079282
 -0.9589242746631385
 -0.27941549819892586
  0.6569865987187891
  0.9893582466233818
  0.4121184852417566
 -0.5440211108893698
 -0.9999902065507035
 -0.5365729180004349
  0.4201670368266409
  ⋮
 -0.9534986003597155
 -0.26156028858731495
  0.6708553462651908
  0.9864896695694187
  0.39514994010172155
 -0.5594888219681838
 -0.9997361413354392
 -0.5208306628783247
  0.4369241250954582
  0.9929728874353159
  0.6360869563962336
 -0.30561438888825215</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Using the <code>@.</code> macro to convert every function call, operation, and assignment in an expression into the “dotted” version.</li>
</ol>
<div id="d43086f9" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> <span class="fu">similar</span>(X)  <span class="co"># Pre-allocate the output array</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>@. Y <span class="op">=</span> <span class="fu">sin</span>(<span class="fu">cos</span>(X))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>3-element Vector{Float64}:
  0.5143952585235492
 -0.4042391538522658
 -0.8360218615377305</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Using vectorized piping operator.</li>
</ol>
<div id="6281ec47" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span><span class="op">:</span><span class="fl">6</span> <span class="op">.|&gt;</span> [x <span class="op">-&gt;</span> x<span class="op">-</span><span class="fl">1</span>, inv, x <span class="op">-&gt;</span> <span class="fl">2</span><span class="op">*</span>x, <span class="op">-</span>, isodd, iseven]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>6-element Vector{Real}:
    0
    0.5
    6
   -4
 true
 true</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="`broadcast(f, As...)`">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>broadcast(f, As...)</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Broadcast the function <code>f</code> over the arrays, tuples, collections, Refs, and/or scalars <code>As</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Pre-allocating outputs">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pre-allocating outputs
</div>
</div>
<div class="callout-body-container callout-body">
<div id="4710f7f7" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Vector</span><span class="dt">{Int}</span>(<span class="cn">undef</span>, <span class="fl">10</span>)  <span class="co"># Construct an uninitialized Vector{Int} of length 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>10-element Vector{Int64}:
 140726844312640
   2795003617232
   2794383151920
   2795003644560
   2795021730240
   2795021730288
   2795021730384
   2795003644048
   2795003644112
   2795003644176</code></pre>
</div>
</div>
<div id="801ade40" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Matrix</span><span class="dt">{Float64}</span>(<span class="cn">undef</span>, <span class="fl">3</span>, <span class="fl">3</span>)  <span class="co"># Construct an uninitialized Matrix{Float64} of 3 by 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>3×3 Matrix{Float64}:
 5.0e-324      1.38104e-311  1.38091e-311
 5.0e-324      1.0e-323      1.38091e-311
 1.38091e-311  1.0e-323      1.38104e-311</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="function-piping" class="level5" data-number="2.5.11.3">
<h5 data-number="2.5.11.3" class="anchored" data-anchor-id="function-piping"><span class="header-section-number">2.5.11.3</span> Function piping</h5>
<p>The pipe operator is <code>|&gt;</code>, which is used to chain together functions taking <strong>single</strong> arguments as inputs.</p>
<div id="32b36409" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op">|&gt;</span> sum <span class="op">|&gt;</span> sqrt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>7.416198487095663</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="exception" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="exception"><span class="header-section-number">2.6</span> Exception</h3>
<p>Usage:</p>
<div id="91a41525" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>try</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>some code which may raise some errors<span class="op">&gt;</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>catch <span class="op">&lt;</span>exception variable<span class="op">&gt;</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>some code dealing with exceptions<span class="op">&gt;</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>finally</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>some code which need to be executed anyway<span class="op">&gt;</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>e.g.</p>
<div id="65f617cc" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="fl">2</span>, <span class="op">-</span><span class="fl">2</span>, <span class="ch">'a'</span>]</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> x</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="fu">sqrt</span>(i)</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">println</span>(<span class="st">"√"</span>, i, <span class="st">" = "</span>, y)</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">catch</span> <span class="cn">e</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="fu">isa</span>(<span class="cn">e</span>, <span class="dt">DomainError</span>)</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">println</span>(<span class="st">"√"</span>, i, <span class="st">": </span><span class="sc">$</span>(i)<span class="st"> is out of domain"</span>)</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">println</span>(<span class="st">"√"</span>, i, <span class="st">": </span><span class="sc">$</span>(i)<span class="st"> is an unsopported type"</span>)</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>√2 = 1.4142135623730951
√-2: -2 is out of domain
√a: a is an unsopported type</code></pre>
</div>
</div>
</section>
<section id="metaprogramming" class="level3" data-number="2.7">
<h3 data-number="2.7" class="anchored" data-anchor-id="metaprogramming"><span class="header-section-number">2.7</span> Metaprogramming</h3>
<p>Generating code by code!</p>
<section id="macros" class="level4" data-number="2.7.1">
<h4 data-number="2.7.1" class="anchored" data-anchor-id="macros"><span class="header-section-number">2.7.1</span> Macros</h4>
<p>Add some code to existed code before compilation, so we can add some new properties to existed code without modifying it.</p>
<p>For example, we can use the <code>@time</code> macro to test the running speed of some code (actually, it adds some code of monitoring the consumption of some computing resources before and after the original code to achieve this function).</p>
<section id="useful-macros" class="level5" data-number="2.7.1.1">
<h5 data-number="2.7.1.1" class="anchored" data-anchor-id="useful-macros"><span class="header-section-number">2.7.1.1</span> Useful macros</h5>
<ol type="1">
<li><code>@show</code>: prints one or more expressions, and their results.</li>
</ol>
<div id="6adeb089" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="st">"abc"</span>, <span class="st">"def"</span>]</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@show</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x = ["abc", "def"]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>2-element Vector{String}:
 "abc"
 "def"</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="types" class="level3" data-number="2.8">
<h3 data-number="2.8" class="anchored" data-anchor-id="types"><span class="header-section-number">2.8</span> Types</h3>
<section id="basics-1" class="level4" data-number="2.8.1">
<h4 data-number="2.8.1" class="anchored" data-anchor-id="basics-1"><span class="header-section-number">2.8.1</span> Basics</h4>
<p>In Julia, all are objects having a type, and types are first-class objects.</p>
<ul>
<li><p>You can use <code>typeof()</code> to get the type of any object.</p></li>
<li><p>You can find the supertype of any type with <code>supertype()</code>: the root of type hierarchy is <code>Any</code>.</p></li>
<li><p>You can find the subtypes of any type with <code>subtypes()</code>: if there is no subtype for a given type, it will return <code>Type[]</code>.</p></li>
<li><p>You can check whether a type is a subtype of the other with the <code>&lt;:</code> operator (e.g.&nbsp;<code>String &lt;: Any</code>).</p></li>
<li><p>Seeing that you created an empty array with the type <code>Integer</code>, then you can only add elements with the type <code>Integer</code> or its subtypes to this array.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled" title="Primitive and composite types">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Primitive and composite types
</div>
</div>
<div class="callout-body-container callout-body">
<p>We can roughly divide all types into primitive types (concrete types whose data consists of plain old bits) and composite types (derived from primitive types or other composite types). On the other hand, we can also devide all types into abstract types (with zero fields) and concrete types (with fields).</p>
<p>In Julia, there are three primitive types: integers, floating-point numbers and characters. You can use the function <code>isprimitivetype()</code> to check whether a type is a primitive type (e.g.&nbsp;<code>isprimitivetype(Int8)</code>).</p>
<p>It’s possible to define new primitive types in Julia by using <code>primitive type ... end</code>.</p>
</div>
</div>
<p>You can create composite types from primitive types or composite types:</p>
<ul>
<li>Definition of an <strong>immutable</strong> composite type:</li>
</ul>
<div id="eb0b09a6" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> TypeName</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Defining typed fields here</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>e.g.</p>
<div id="dd47a0fd" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Archer</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    name<span class="op">::</span><span class="dt">String</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    health<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>    arrows<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Once the composite type Archer is defined, you can instantiate the Archer object</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>william <span class="op">=</span> <span class="fu">Archer</span>(<span class="st">"William Tell"</span>, <span class="fl">30</span>, <span class="fl">24</span>)</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Then access the values of fileds by using dot operator</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>william.name, william.health, william.arrows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In Julia, <code>::</code> is used to annotate variables and expression with types.</p>
<p><code>x::T</code> means variable <code>x</code> should have type <code>T</code>.</p>
</div>
</div>
<ul>
<li>Definition of a <strong>mutable</strong> composite type:</li>
</ul>
<div id="235b721b" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mutable struct</span> TypeName</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Defining typed fields here</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Definition of abstract type: <code>abstract type TypeName end</code>.</li>
</ul>
<p>Obviously, the type created by using <code>struct</code> is a concrete type.</p>
<p>You can create objects of a concrete type but not of an abstract type.</p>
<p>An abstract type cannot have any fields. Only concrete types can have fields or a value.</p>
<p>The purpose of abstract types is to facilitate the construction of type hierarchy.</p>
<p>A <strong>composite</strong> type is a concrete type with fields; a <strong>primitive</strong> type is a concrete type with a single value.</p>
<ul>
<li>You can use the subtype operator <code>&lt;:</code> to create a <strong>concrete</strong> or <strong>abstract</strong> subtype of an <strong>abstract</strong> type.</li>
</ul>
<div id="95b883eb" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract type</span> Warrior <span class="kw">end</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Archer is a subtype of Warrior</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> ArcherSoldier <span class="op">&lt;:</span><span class="dt"> Warrior</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    name<span class="op">::</span><span class="dt">String</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    health<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    arrows<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="fu">supertype</span>(ArcherSoldier)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>Warrior</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Different with object-oriented languages, composite types in Julia <strong>can only have fields</strong>, and <strong>cannot have methods bound to them</strong>.</p>
</div>
</div>
<p>After creating concrete types, you can make objects of them (i.e.&nbsp;instantiate them) with arguments.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can only make objects of <strong>concrete types</strong>!</p>
</div>
</div>
<p>e.g.</p>
<div id="f21aa605" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mutable struct</span> TestType</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    a<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    b<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>t1 <span class="op">=</span> <span class="fu">TestType</span>(<span class="fl">1</span>, <span class="fl">10.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>TestType(1, 10.5)</code></pre>
</div>
</div>
<p>You can instantiate objects of <code>TestType</code> in this way <code>t1 = TestType(1, 10.5)</code>, because Julia automatically creates a special function called <strong>constructor</strong> with the same name as your type. A constructor is responsible for making an instance (object) of the type it is associated with. Julia adds <strong>two methods</strong> to the constructor function, which takes the same number of arguments as you have fields. <strong>One method uses type annotations for its arguments, as specified for each field in the <code>struct</code></strong>. <strong>The other takes arguments of <code>Any</code> type</strong>.</p>
<div id="8cae3e56" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(TestType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
# 2 methods for type constructor:<ul><li> TestType(a::<b>Int64</b>, b::<b>Float64</b>) in Main at In[43]:2</li> <li> TestType(a, b) in Main at In[43]:2</li> </ul>
</div>
</div>
<div id="90b475ee" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">TestType</span>(a<span class="op">::</span><span class="dt">Int64</span>)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">TestType</span>(a, a)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(TestType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
# 3 methods for type constructor:<ul><li> TestType(a::<b>Int64</b>) in Main at In[45]:1</li> <li> TestType(a::<b>Int64</b>, b::<b>Float64</b>) in Main at In[43]:2</li> <li> TestType(a, b) in Main at In[43]:2</li> </ul>
</div>
</div>
<div id="2e5380cb" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">TestType</span>(<span class="fl">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>TestType(100, 100.0)</code></pre>
</div>
</div>
<p>Surely, you can add methods to this constructor function outside of <code>struct</code> in the same manner as any other fucntion, called <strong>outer constructor</strong>.</p>
<p>In addition, you can define accessors (getters and setters) as well as other functions accepted arguments of this type to achieve some tasks.</p>
<p>You can only provide types without concrete parameters to define a function tied to types (this type of function are usually used to get some properties of a type, independent of its objects):</p>
<div id="4127d805" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toy</span>(<span class="op">::</span><span class="dt">TestType</span>) <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> <span class="fu">TestType</span>(<span class="fl">100</span>)</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="fu">toy</span>(t)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>100</code></pre>
</div>
</div>
<p>In functions (including outer constructors) you defined outside of <code>struct</code>, you can easily check whether user-provided arguments are valid or not. But how can we check this when instantiating objects of a concrete type by using constructors Julia created?</p>
<p>To solve this problem, we need to define the constructor inside of <code>struct</code>, called <strong>inner constructor</strong>. Once you do this, you tell Julia that you don’t want it to create constructor methods automatically (i.e.&nbsp;disable this manner). Then, users can only use the constructor you defined to instantiate objects of a concrete type.</p>
<div id="bc755e02" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="kw">mutable struct</span> TempType</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>    a<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>    b<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>    diff<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">TempType</span>(a<span class="op">::</span><span class="dt">Int64</span>, b<span class="op">::</span><span class="dt">Float64</span>)</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">new</span>(a, b, b <span class="op">-</span> a)  <span class="co"># We don't want users to provide the value of diff, which is defined as the difference of b and a</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In inner constructor, you need use <code>new()</code> (which is only available inside an inner constructor) to instantiate objects of a concrete type, which accepts <strong>zero or more</strong> arguments <strong>but never more aguments than the number of fields in your composite type</strong>, because creating an inner constructor removes all constructor methods created by Julia. Feilds with missing values will be set to random values.</p>
</div>
</div>
<div id="b8a4e65f" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(TempType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
# 1 method for type constructor:<ul><li> TempType(a::<b>Int64</b>, b::<b>Float64</b>) in Main at In[48]:6</li> </ul>
</div>
</div>
<div id="2da3f1fe" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">TempType</span>(<span class="fl">1</span>, <span class="fl">10.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>TempType(1, 10.5, 9.5)</code></pre>
</div>
</div>
<div id="09668edd" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will raise an error</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">TempType</span>(<span class="fl">1</span>, <span class="fl">10.5</span>, <span class="fl">9.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: no method matching TempType(::Int64, ::Float64, ::Float64)

Closest candidates are:
  TempType(::Int64, ::Float64)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">Main</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">In[48]:6</span>
</pre>
</div>
</div>
</div>
</section>
<section id="multiple-dispatch" class="level4" data-number="2.8.2">
<h4 data-number="2.8.2" class="anchored" data-anchor-id="multiple-dispatch"><span class="header-section-number">2.8.2</span> Multiple dispatch</h4>
<section id="how-does-multiple-dispatch-work" class="level5" data-number="2.8.2.1">
<h5 data-number="2.8.2.1" class="anchored" data-anchor-id="how-does-multiple-dispatch-work"><span class="header-section-number">2.8.2.1</span> How does multiple dispatch work</h5>
<div id="fdc63b45" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myadd</span>(x<span class="op">::</span><span class="dt">Int</span>, y<span class="op">::</span><span class="dt">Int</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"The sum is: "</span>)</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printstyled</span>(x <span class="op">+</span> y, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, bold <span class="op">=</span> <span class="cn">true</span>, color <span class="op">=</span> <span class="op">:</span>red)</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myadd</span>(x<span class="op">::</span><span class="dt">String</span>, y<span class="op">::</span><span class="dt">String</span>)</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"The concatenated string is: "</span>)</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printstyled</span>(<span class="fu">join</span>([x, y]), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, bold <span class="op">=</span> <span class="cn">true</span>, color <span class="op">=</span> <span class="op">:</span>red)</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myadd</span>(x<span class="op">::</span><span class="dt">Char</span>, y<span class="op">::</span><span class="dt">Char</span>)</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"The character is: "</span>)</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printstyled</span>(<span class="fu">Char</span>(<span class="fu">Int</span>(x) <span class="op">+</span> <span class="fu">Int</span>(y)), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, bold <span class="op">=</span> <span class="cn">true</span>, color <span class="op">=</span> <span class="op">:</span>red)</span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a><span class="fu">myadd</span>(<span class="fl">1</span>, <span class="fl">1</span>)</span>
<span id="cb112-17"><a href="#cb112-17" aria-hidden="true" tabindex="-1"></a><span class="fu">myadd</span>(<span class="st">"abc"</span>, <span class="st">"def"</span>)</span>
<span id="cb112-18"><a href="#cb112-18" aria-hidden="true" tabindex="-1"></a><span class="fu">myadd</span>(<span class="ch">'W'</span>, <span class="ch">'Y'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The sum is: 2
The concatenated string is: abcdef
The character is: °</code></pre>
</div>
</div>
<p>How does Julia know which function should be called in this situation?</p>
<ul>
<li><p>In fact, we defined three <strong>methods</strong>, attached to the function <code>myadd</code>, instead of three <strong>functions</strong> above.</p></li>
<li><p>In Julia, functions are just names. Without attached methods, they cannot do anything. <strong>Code is always stored inside methods</strong>. <strong>The type of arguments</strong> determines which method will get executed <strong>at runtime</strong>.</p></li>
<li><p>You can use <code>methods()</code> to check how many methods a function contains (e.g.&nbsp;<code>methods(myadd)</code>).</p></li>
<li><p>If some parameters without types specified, the type will be <code>Any</code> (i.e.&nbsp;accept all types of values).</p></li>
<li><p>You can only define functions without methods:</p></li>
</ul>
<div id="3381061e" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> func_no_method <span class="kw">end</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">func_no_method</span>(<span class="fl">1</span>, <span class="fl">1</span>)  <span class="co"># Attempt to call a function with no methods</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: MethodError: no method matching func_no_method(::Int64, ::Int64)</code></pre>
</div>
</div>
<div id="29d7e5f4" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">func_not_defined</span>(<span class="fl">1</span>, <span class="fl">1</span>)  <span class="co"># Attempt to call a function not defined</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: UndefVarError: `func_not_defined` not defined</code></pre>
</div>
</div>
</section>
<section id="the-way-julia-selects-the-correct-method-of-a-function-for-each-situation" class="level5" data-number="2.8.2.2">
<h5 data-number="2.8.2.2" class="anchored" data-anchor-id="the-way-julia-selects-the-correct-method-of-a-function-for-each-situation"><span class="header-section-number">2.8.2.2</span> The way Julia selects the correct method of a function for each situation</h5>
<p>Internally, Julia has a list of functions. Every function enters another list containing the methods, which deals with different argument type combinations.</p>
<ol type="1">
<li><p>First, Julia matches the function name (i.e.&nbsp;the called function should be defined).</p></li>
<li><p>Then, Julia matches the type combination of arguments and parameters (i.e.&nbsp;the combination of types of arguments passed = the combination of types of parameters defined in a method).</p></li>
</ol>
<p>In contrast with multiple dispatch, what method is used is decided only by the type of the first argument in single dispatch or object-oriented languages (i.e.&nbsp;in <code>a.join(b)</code>, the function (method) used is only decided by the object <code>a</code>, not decided by both <code>a</code> and <code>b</code>, because in object-oriented languages, various attributes and fuctions (methods) are bound to objects of a class). If you defined a function multiple times with arguments of different types in object-oriented languages, the previous will be overwritten by the latter.</p>
<p>In statically typed languages which allows you to define a function multiple times with arguments of different types, when the code gts compiled, the compiler will pick the right function. But the selection process can only be done during compilation, it cannot be done during execution, which Julia can do.</p>
<p>i.e.&nbsp;statically typed languages cannot deal with such a situation:</p>
<div id="df17bbf2" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">f1</span>(a<span class="op">::</span><span class="dt">Warrior</span>, b<span class="op">::</span><span class="dt">Warrior</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">f2</span>(a, b)</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Some other statements</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the function <code>f1</code>, defined above, <code>a</code> and <code>b</code> must be subtypes of the <code>Warrior</code> type. Suppose that the function <code>f1</code> is designed to allow accepting and dealing with these <code>a</code> and <code>b</code> with differnt subtypes of <code>Warrior</code>. When compiling the method <code>f1</code>, it only knows that <code>a</code> and <code>b</code> must be subtypes of <code>Warrior</code> but cannot know what concrete types they have. Then it won’t pick up the right method of <code>f2</code> (suppose <code>f2</code> has at least two methods bound to it).</p>
</section>
</section>
<section id="conversion-and-promotion" class="level4" data-number="2.8.3">
<h4 data-number="2.8.3" class="anchored" data-anchor-id="conversion-and-promotion"><span class="header-section-number">2.8.3</span> Conversion and promotion</h4>
<section id="why-do-we-need-type-promotion" class="level5" data-number="2.8.3.1">
<h5 data-number="2.8.3.1" class="anchored" data-anchor-id="why-do-we-need-type-promotion"><span class="header-section-number">2.8.3.1</span> Why do we need type promotion</h5>
<p>Inside a microprocessor, mathematical operations are always performed <strong>between identical types of numbers</strong>.</p>
<p>Thus, when dealing with expressions composed of different number types, all higher-level programming languages have to convert all arguments in the expression <strong>to the same number type</strong>.</p>
<p>But <strong>what should this common number type be</strong>? Figuring out this common type if what promotion is all about.</p>
<p>In most mainstream languages, the mechanisms and rules governing number promotion are hardwired into the language and detaild in the specifications of the language.</p>
<p>But Julia promotion rules are defined in the standard library, not in the internals of the Julia JIT compiler. This allows you to <strong>extend</strong> the existing system, <strong>not modifying it</strong>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use the <code>@edit</code> macro to explore the Julia source code.</p>
<p>By prefixing with the <code>@edit</code> macro, Julia jumps to the definition of the function called to handled the expression (e.g.&nbsp;<code>@edit 1+1</code>).</p>
<p>Before using this, you may need to set the environment variable <code>JULIA_EDITOR</code> in your OS.</p>
</div>
</div>
</section>
<section id="how-does-type-promotion-work" class="level5" data-number="2.8.3.2">
<h5 data-number="2.8.3.2" class="anchored" data-anchor-id="how-does-type-promotion-work"><span class="header-section-number">2.8.3.2</span> How does type promotion work</h5>
<p>Julia performs type promotion by calling the <code>promote()</code> function, which promotes all arguments to a least common denominator.</p>
<p>e.g.&nbsp;every arithmetic operation on some <code>Number</code> in Julia first calls <code>promote()</code> before performing the actual arithmetic operation.</p>
<p>e.g.&nbsp;here, <code>promote()</code> promotes an integer and a floating-point number to floating-point numbers.</p>
<div id="7be783d2" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">promote</span>(<span class="fl">1</span>, <span class="fl">2.5</span>)  <span class="co"># It returns a tuple</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>(1.0, 2.5)</code></pre>
</div>
</div>
</section>
<section id="how-does-conversion-work" class="level5" data-number="2.8.3.3">
<h5 data-number="2.8.3.3" class="anchored" data-anchor-id="how-does-conversion-work"><span class="header-section-number">2.8.3.3</span> How does conversion work</h5>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Conversion means converting from one type to another <strong>related</strong> type.</p>
<p>This is totally different from <strong>parsing a text string to produce a number</strong>, because a string and a number are not related types.</p>
</div>
</div>
<p>For number type conversion, it is recommended to use the constructor of the type you want to convert to.</p>
<div id="820c2bd4" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Int8</span>(<span class="fl">32</span>)  <span class="co"># Convert a number of Int64 to Int8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>32</code></pre>
</div>
</div>
<p>Different from using type constructors, Julia calls the <code>convert()</code> function to achieve this.</p>
<div id="55ea5633" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">convert</span>(<span class="dt">Int8</span>, <span class="fl">32</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>32</code></pre>
</div>
</div>
<p>The first argument of <code>convert()</code> is a type object (we know that all are objects in Julia).</p>
<p>Actually, the type of <code>Int64</code> is <code>Type{Int64}</code>.</p>
<div id="9ce864cb" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="dt">Int64</span> isa <span class="dt">Type</span>{<span class="dt">Int64</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>true</code></pre>
</div>
</div>
<p>You can regard <code>Type</code> as a function, accepting a type argument <code>T</code>, and then returning the type of <code>T</code> - <code>Type{T}</code>.</p>
</section>
<section id="an-example-extending-the-type-system" class="level5" data-number="2.8.3.4">
<h5 data-number="2.8.3.4" class="anchored" data-anchor-id="an-example-extending-the-type-system"><span class="header-section-number">2.8.3.4</span> An example extending the type system</h5>
<p>Here we give an example of defining units for angles (redian/degree) and related operations.</p>
<section id="defining-unit-types-and-constructors" class="level6" data-number="2.8.3.4.1">
<h6 data-number="2.8.3.4.1" class="anchored" data-anchor-id="defining-unit-types-and-constructors"><span class="header-section-number">2.8.3.4.1</span> Defining unit types and constructors</h6>
<div id="1d5067ec" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract type</span> Angle <span class="kw">end</span>  <span class="co"># The super type of Radian and Degree</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Radian <span class="op">&lt;:</span><span class="dt"> Angle</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    radians<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Defining customized constructor</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">Radian</span>(radians<span class="op">::</span><span class="dt">Number</span>=<span class="fl">0.0</span>)</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">new</span>(radians)</span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 degree = 60 minutes</span></span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 minute = 60 seconds</span></span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a><span class="co"># degrees, minutes, seconds (DMS)</span></span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> DMS <span class="op">&lt;:</span><span class="dt"> Angle</span></span>
<span id="cb127-16"><a href="#cb127-16" aria-hidden="true" tabindex="-1"></a>    seconds<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb127-17"><a href="#cb127-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-18"><a href="#cb127-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Defining customized constructor</span></span>
<span id="cb127-19"><a href="#cb127-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">DMS</span>(degrees<span class="op">::</span><span class="dt">Integer</span>=<span class="fl">0</span>, minutes<span class="op">::</span><span class="dt">Integer</span>=<span class="fl">0</span>, seconds<span class="op">::</span><span class="dt">Integer</span>=<span class="fl">0</span>)</span>
<span id="cb127-20"><a href="#cb127-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">new</span>(degrees <span class="op">*</span> <span class="fl">60</span> <span class="op">*</span> <span class="fl">60</span> <span class="op">+</span> minutes <span class="op">*</span> <span class="fl">60</span> <span class="op">+</span> seconds)</span>
<span id="cb127-21"><a href="#cb127-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb127-22"><a href="#cb127-22" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="defining-accessors" class="level6" data-number="2.8.3.4.2">
<h6 data-number="2.8.3.4.2" class="anchored" data-anchor-id="defining-accessors"><span class="header-section-number">2.8.3.4.2</span> Defining accessors</h6>
<div id="172fd217" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">radians</span>(radian<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> radian.radians</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">seconds</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> dms.seconds <span class="op">%</span> <span class="fl">60</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="fu">minutes</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> (dms.seconds <span class="op">÷</span> <span class="fl">60</span>) <span class="op">%</span> <span class="fl">60</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="fu">degrees</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> (dms.seconds <span class="op">÷</span> <span class="fl">60</span>) <span class="op">÷</span> <span class="fl">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>degrees (generic function with 1 method)</code></pre>
</div>
</div>
</section>
<section id="displaying-angles" class="level6" data-number="2.8.3.4.3">
<h6 data-number="2.8.3.4.3" class="anchored" data-anchor-id="displaying-angles"><span class="header-section-number">2.8.3.4.3</span> Displaying angles</h6>
<p>The Julia REPL environment uses the <code>show(io::IO, data)</code> to display data of some specific type to the user.</p>
<div id="d3adad78" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: show</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">show</span>(io<span class="op">::</span><span class="dt">IO</span>, radian<span class="op">::</span><span class="dt">Radian</span>)</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(io, <span class="fu">radians</span>(radian), <span class="st">"rad"</span>)</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">show</span>(io<span class="op">::</span><span class="dt">IO</span>, dms<span class="op">::</span><span class="dt">DMS</span>)</span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(io, <span class="fu">degrees</span>(dms), <span class="st">"° "</span>, <span class="fu">minutes</span>(dms), <span class="st">"' "</span>, <span class="fu">seconds</span>(dms), <span class="st">"''"</span>)</span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>show (generic function with 640 methods)</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Here, we only want to attach new methods to the <code>show()</code> function, which is already defined in the Base package.</p>
<p>So we need to first import the <code>show()</code> function from the Base package; otherwise, it will automatically create a new function named <code>show</code>, which belongs to the namespace of Main, instead of Base, and then attach the newly defined method to this function.</p>
</div>
</div>
</section>
<section id="defining-type-conversions" class="level6" data-number="2.8.3.4.4">
<h6 data-number="2.8.3.4.4" class="anchored" data-anchor-id="defining-type-conversions"><span class="header-section-number">2.8.3.4.4</span> Defining type conversions</h6>
<div id="405edcca" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: convert</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Radian</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">Radian</span>(<span class="fu">deg2rad</span>(dms.seconds <span class="op">/</span> <span class="fl">3600</span>))</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="fu">DMS</span>(radian<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="fu">DMS</span>(<span class="fu">floor</span>(<span class="dt">Int</span>, <span class="fu">rad2deg</span>(radian.radians) <span class="op">*</span> <span class="fl">3600</span>))</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="fu">convert</span>(<span class="op">::</span><span class="dt">Type{Radian}</span>, dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">Radian</span>(dms)</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a><span class="fu">convert</span>(<span class="op">::</span><span class="dt">Type{DMS}</span>, radian<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="fu">DMS</span>(radian)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>convert (generic function with 677 methods)</code></pre>
</div>
</div>
</section>
<section id="defining-type-promotions" class="level6" data-number="2.8.3.4.5">
<h6 data-number="2.8.3.4.5" class="anchored" data-anchor-id="defining-type-promotions"><span class="header-section-number">2.8.3.4.5</span> Defining type promotions</h6>
<p>In fact, <code>promote()</code> does its job by calling the <code>promote_rule()</code> function.</p>
<div id="21045d14" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: promote_rule</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="co"># If an expression contains both Radian and DMS, convert DMS into Radian</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="fu">promote_rule</span>(<span class="op">::</span><span class="dt">Type{Radian}</span>, <span class="op">::</span><span class="dt">Type{DMS}</span>) <span class="op">=</span> Radian</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>promote_rule (generic function with 218 methods)</code></pre>
</div>
</div>
</section>
<section id="defining-arithmetic-operations" class="level6" data-number="2.8.3.4.6">
<h6 data-number="2.8.3.4.6" class="anchored" data-anchor-id="defining-arithmetic-operations"><span class="header-section-number">2.8.3.4.6</span> Defining arithmetic operations</h6>
<div id="8f5a05f1" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: +, -</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="co"># If an expression contains both Radian and DMS, convert DMS into Radian, and then perform arithmetic operations of Radian</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="fu">+</span>(θ<span class="op">::</span><span class="dt">Angle</span>, α<span class="op">::</span><span class="dt">Angle</span>) <span class="op">=</span> <span class="fu">+</span>(<span class="fu">promote</span>(θ, α)<span class="op">...</span>)</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="fu">-</span>(θ<span class="op">::</span><span class="dt">Angle</span>, α<span class="op">::</span><span class="dt">Angle</span>) <span class="op">=</span> <span class="fu">-</span>(<span class="fu">promote</span>(θ, α)<span class="op">...</span>)</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="fu">+</span>(θ<span class="op">::</span><span class="dt">Radian</span>, α<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="fu">Radian</span>(θ.radians <span class="op">+</span> α.radians)</span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a><span class="fu">-</span>(θ<span class="op">::</span><span class="dt">Radian</span>, α<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="fu">Radian</span>(θ.radians <span class="op">-</span> α.radians)</span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a><span class="fu">+</span>(θ<span class="op">::</span><span class="dt">DMS</span>, α<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">DMS</span>(θ.seconds <span class="op">+</span> α.seconds)</span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true" tabindex="-1"></a><span class="fu">-</span>(θ<span class="op">::</span><span class="dt">DMS</span>, α<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">DMS</span>(θ.seconds <span class="op">-</span> α.seconds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>- (generic function with 395 methods)</code></pre>
</div>
</div>
</section>
<section id="making-pretty-literals-by-using-literal-coefficients" class="level6" data-number="2.8.3.4.7">
<h6 data-number="2.8.3.4.7" class="anchored" data-anchor-id="making-pretty-literals-by-using-literal-coefficients"><span class="header-section-number">2.8.3.4.7</span> Making pretty literals by using literal coefficients</h6>
<div id="41b0f88c" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: *, /</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">*</span>(coeff<span class="op">::</span><span class="dt">Number</span>, dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">DMS</span>(<span class="fl">0</span>, <span class="fl">0</span>, coeff <span class="op">*</span> dms.seconds)</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="fu">*</span>(dms<span class="op">::</span><span class="dt">DMS</span>, coeff<span class="op">::</span><span class="dt">Number</span>) <span class="op">=</span> coeff <span class="op">*</span> dms</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="op">/</span>(dms<span class="op">::</span><span class="dt">DMS</span>, denom<span class="op">::</span><span class="dt">Number</span>) <span class="op">=</span> <span class="fu">DMS</span>(<span class="fl">0</span>, <span class="fl">0</span>, dms.seconds <span class="op">/</span> denom)</span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="fu">*</span>(coeff<span class="op">::</span><span class="dt">Number</span>, radian<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="fu">Radian</span>(coeff <span class="op">*</span> radian.radians)</span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="fu">*</span>(radian<span class="op">::</span><span class="dt">Radian</span>, coeff<span class="op">::</span><span class="dt">Number</span>) <span class="op">=</span> coeff <span class="op">*</span> radian</span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="op">/</span>(radian<span class="op">::</span><span class="dt">Radian</span>, denom<span class="op">::</span><span class="dt">Number</span>) <span class="op">=</span> <span class="fu">Radian</span>(radian.radians <span class="op">/</span> denom)</span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> ° <span class="op">=</span> <span class="fu">DMS</span>(<span class="fl">1</span>)</span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> rad <span class="op">=</span> <span class="fu">Radian</span>(<span class="fl">1.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>1.0rad</code></pre>
</div>
</div>
</section>
<section id="overriding-standard-sin-and-cos-functions-to-only-accept-dms-and-radian" class="level6" data-number="2.8.3.4.8">
<h6 data-number="2.8.3.4.8" class="anchored" data-anchor-id="overriding-standard-sin-and-cos-functions-to-only-accept-dms-and-radian"><span class="header-section-number">2.8.3.4.8</span> Overriding standard <code>sin()</code> and <code>cos()</code> functions to only accept <code>DMS</code> and <code>Radian</code></h6>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the following code snippet, we do not import <code>sin()</code> and <code>cos()</code> from the Base package, instead of overriding them (i.e.&nbsp;create a function and then attach the newly defined method to it).</p>
</div>
</div>
<div id="a2b14ad2" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The standard sin() and cos() only accept numbers regarded as the radian</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(rad<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">sin</span>(rad.radians)</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cos</span>(rad<span class="op">::</span><span class="dt">Radian</span>) <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">cos</span>(rad.radians)</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">sin</span>(<span class="fu">Radian</span>(dms))</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cos</span>(dms<span class="op">::</span><span class="dt">DMS</span>) <span class="op">=</span> <span class="fu">cos</span>(<span class="fu">Radian</span>(dms))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="representing-unknown-values" class="level4" data-number="2.8.4">
<h4 data-number="2.8.4" class="anchored" data-anchor-id="representing-unknown-values"><span class="header-section-number">2.8.4</span> Representing unknown values</h4>
<ol type="1">
<li><code>nothing</code>: indicates something not existed.</li>
</ol>
<p>The <code>nothing</code> object is an instance of the type <code>Nothing</code>, which is a composite type without any fields.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Every instance of a composite type with zero fields is the same obeject.</p>
<div id="a4643e8a" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> MyNothing</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No fields defined here</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>obj1 <span class="op">=</span> <span class="fu">MyNothing</span>()</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>obj2 <span class="op">=</span> <span class="fu">MyNothing</span>()</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a>obj1 <span class="op">==</span> obj2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>true</code></pre>
</div>
</div>
<p>Instances of different composite types with zero fields are different.</p>
<div id="086213c4" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> AgainNothing</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No fields defined here</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>obj1 <span class="op">=</span> <span class="fu">MyNothing</span>()</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>obj2 <span class="op">=</span> <span class="fu">AgainNothing</span>()</span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>obj1 <span class="op">==</span> obj2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>false</code></pre>
</div>
</div>
</div>
</div>
<ol start="2" type="1">
<li><code>missing</code>: indicates something, which should have existed, but missing due to some reason (i.e.&nbsp;unlike <code>nothing</code>, missing data actually exists in the real world, but we don’t know what it is).</li>
</ol>
<p>The concept of <code>missing</code>, which is of type <code>Missing</code>, a composite type with zero fields, is the same as that in statistics.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Any expression containing <code>missing</code> will be evaluated to <code>missing</code>!</p>
<p>You can use <code>skipmissing()</code> to filter <code>missing</code> out.</p>
</div>
</div>
<ol start="3" type="1">
<li><code>NaN</code>: indicates something, which is <strong>Not a Number</strong>.</li>
</ol>
<p><strong>Similarly, <code>NaN</code> also propagates through all calculations.</strong></p>
<p>The only difference of the propagation behaviour between <code>NaN</code> and <code>missing</code> is that <code>NaN</code> always returns <code>false</code> when <code>NaN</code> is used in a comparison expression, where <code>missing</code> always returns <code>missing</code>:</p>
<div id="5cd006e7" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="cn">missing</span> <span class="op">&lt;</span> <span class="fl">10</span>, <span class="cn">NaN</span> <span class="op">&lt;</span> <span class="fl">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>(missing, false)</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>0/0</code> returns <code>NaN</code>.</p>
<p>In other words, <code>0/0</code> may be a valid number somewhere else, but now it doesn’t belong to any number we have already defined; thus it is regarded as <code>NaN</code>.</p>
</div>
</div>
<ol start="4" type="1">
<li><code>#undef</code>: indicates something undefined (i.e.&nbsp;a variable was not instantiated to a known value).</li>
</ol>
<p>e.g.&nbsp;Julia allows the construction of composite objects with uninitialized fields; however, it will throw an exception if you try to access an uninitialized field:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Both <code>firstname</code> and <code>lastname</code> in the type <code>Person</code> have no type annotations. If you define them with type annotations, Julia will automatically instantiate them to some values based on their types.</p>
<p>In other words, if some fields have no type annotations, then Julia has no way of guessing what the fields should be initialized to.</p>
</div>
</div>
<div id="e863d29c" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Person</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>    firstname</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    lastname</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Person</span>(firstname<span class="op">::</span><span class="dt">String</span>, lastname<span class="op">::</span><span class="dt">String</span>) <span class="op">=</span> <span class="fu">new</span>(firstname, lastname)  <span class="co"># This allows you to instantiate instances of Person with arguments</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Person</span>() <span class="op">=</span> <span class="fu">new</span>()  <span class="co"># This allows you to instantiate instances of Person without arguments</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>friend <span class="op">=</span> <span class="fu">Person</span>()</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>friend</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>Person(#undef, #undef)</code></pre>
</div>
</div>
<div id="fb9cf494" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>friend.firstname</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: UndefRefError: access to undefined reference</code></pre>
</div>
</div>
<section id="to-solve-infinite-chain-of-initialization-using-parametric-type" class="level5" data-number="2.8.4.1">
<h5 data-number="2.8.4.1" class="anchored" data-anchor-id="to-solve-infinite-chain-of-initialization-using-parametric-type"><span class="header-section-number">2.8.4.1</span> To solve infinite chain of initialization using parametric type</h5>
<p>A parametric type can be regarded as a function which accepts type parameters, and then returns a new type.</p>
<p>e.g.&nbsp;if <code>P</code> is a parametric type, and <code>T</code> is a type, then <code>P{T}</code> returns a new type.</p>
<p>You can think of a parametric type as a template to make an actual type:</p>
<div id="79c985f8" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>)  <span class="co"># Equivalent to UnitRange(1, 3)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>UnitRange{Int64}</code></pre>
</div>
</div>
<div id="5020679a" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>FloatRange <span class="op">=</span> <span class="dt">UnitRange</span>{<span class="dt">Float64</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>UnitRange{Float64}</code></pre>
</div>
</div>
<div id="63fd4db0" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">FloatRange</span>(<span class="fl">1</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<pre><code>1.0:3.0</code></pre>
</div>
</div>
<p>We can use the <code>Union</code> parametric type to solve infinite chain of initialization. <code>Union</code> accetps one or more type parameters, and then return a new type which can serve as placeholders for any of the types listed as type parameters.</p>
<div id="55a245b6" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>(x<span class="op">::</span><span class="dt">Union{Int, String}</span>) <span class="op">=</span> x<span class="op">^</span><span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>f1 (generic function with 1 method)</code></pre>
</div>
</div>
<div id="fd332d72" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>(<span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<pre><code>27</code></pre>
</div>
</div>
<div id="0b00eec0" class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>(<span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<pre><code>"hellohellohello"</code></pre>
</div>
</div>
<div id="401a64c3" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>(<span class="fl">1.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: no method matching f1(::Float64)

Closest candidates are:
  f1(<span class="ansi-bright-red-fg">::Union{Int64, String}</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">Main</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">In[74]:1</span>
</pre>
</div>
</div>
</div>
<p>Now let’s solve the problem of infinite chain of initialization using parametric type:</p>
<div id="fc18b015" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Wagon</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>    cargo<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>    next<span class="op">::</span><span class="dt">Union{Wagon, Nothing}  </span><span class="co"># next can be an object of either Wagon or Nothing</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total tons of cargo in the train</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cargo</span>(w<span class="op">::</span><span class="dt">Wagon</span>) <span class="op">=</span> w.cargo <span class="op">+</span> <span class="fu">cargo</span>(w.next)</span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cargo</span>(<span class="op">::</span><span class="dt">Nothing</span>) <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a>train <span class="op">=</span> <span class="fu">Wagon</span>(<span class="fl">6</span>, <span class="fu">Wagon</span>(<span class="fl">8</span>, <span class="fu">Wagon</span>(<span class="fl">10</span>, <span class="cn">nothing</span>)))</span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cargo</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>24.0</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="collections" class="level3" data-number="2.9">
<h3 data-number="2.9" class="anchored" data-anchor-id="collections"><span class="header-section-number">2.9</span> Collections</h3>
<p>Collections are objects that store and organize other objects.</p>
<section id="strings" class="level4" data-number="2.9.1">
<h4 data-number="2.9.1" class="anchored" data-anchor-id="strings"><span class="header-section-number">2.9.1</span> Strings</h4>
<p>In computer memory, everything is a number, including characters.</p>
<ul>
<li>A character (<code>Char</code> type) is quoted by <code>''</code>.</li>
</ul>
<div id="caf50a6a" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Int8</span>(<span class="ch">'A'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>65</code></pre>
</div>
</div>
<div id="edb27f31" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Char</span>(<span class="fl">65</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>'A': ASCII/Unicode U+0041 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<p>You can add a number to a character, which returns a new character corresponding to the sum:</p>
<div id="bfacee37" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="ch">'A'</span> <span class="op">+</span> <span class="fl">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>'D': ASCII/Unicode U+0044 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<ul>
<li>A string is quoted by <code>""</code> or `<code>""""""</code>.</li>
</ul>
<p>Long lines in strings can be broken up by preceding the newline with a backslash (<code>\</code>):</p>
<div id="dfcb0f68" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="st">"This is a long \</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="st">line"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<pre><code>"This is a long line"</code></pre>
</div>
</div>
<p>Merging elements into a string by <code>join()</code>:</p>
<div id="b75f8cff" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>chars <span class="op">=</span> <span class="ch">'A'</span><span class="op">:</span><span class="ch">'Z'</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="fu">join</span>(chars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</code></pre>
</div>
</div>
<p>Splitting a string into characters by <code>collect()</code>:</p>
<div id="9c23b98a" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect</span>(<span class="st">"HELLO"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="84">
<pre><code>5-element Vector{Char}:
 'H': ASCII/Unicode U+0048 (category Lu: Letter, uppercase)
 'E': ASCII/Unicode U+0045 (category Lu: Letter, uppercase)
 'L': ASCII/Unicode U+004C (category Lu: Letter, uppercase)
 'L': ASCII/Unicode U+004C (category Lu: Letter, uppercase)
 'O': ASCII/Unicode U+004F (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<p>In fact, you can <code>collect()</code> any iterable objects into an array.</p>
<section id="unicode-and-utf-8" class="level5" data-number="2.9.1.1">
<h5 data-number="2.9.1.1" class="anchored" data-anchor-id="unicode-and-utf-8"><span class="header-section-number">2.9.1.1</span> Unicode and UTF-8</h5>
<p>Text strings in Julia are Unicode, encoded in UTF-8 format.</p>
<p>In Unicode, each character is given a number (<strong>code point</strong>), encoded by several bytes (<strong>code units</strong>) in computer.</p>
<p>UTF-8 is the current Unicode scheme used, which uses a variable number of bytes (1-4 bytes) per character to encode characters in computer.</p>
<p>You can use <code>codepoint()</code> to get the code point of a character, and <code>ncodeunits()</code> to get the code units of a character.</p>
<p>In addition, UTF-8 is backward compatible with ASCII (encoding each character with 1 byte). You can use <code>isascii()</code> to check whether a character is a ASCII character.</p>
<div id="ac622829" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="fu">codepoint</span>(<span class="ch">'A'</span>), <span class="fu">ncodeunits</span>(<span class="ch">'A'</span>), <span class="fu">isascii</span>(<span class="ch">'A'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>(0x00000041, 1, true)</code></pre>
</div>
</div>
<p>As a consequence, you can type a character by typing either the character itself or its code point.</p>
<div id="3397beae" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="ch">'A'</span>, <span class="ch">'\U41'</span>, <span class="fu">Char</span>(<span class="bn">0x00000041</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>('A', 'A', 'A')</code></pre>
</div>
</div>
</section>
<section id="string-indexing" class="level5" data-number="2.9.1.2">
<h5 data-number="2.9.1.2" class="anchored" data-anchor-id="string-indexing"><span class="header-section-number">2.9.1.2</span> String indexing</h5>
<p>You can use subscript index to index each character in a string, but the step between indices is not always 1. It may be an integer greater than 1.</p>
<p>You can combine the following functions to get correct indices for each character in a string:</p>
<ul>
<li><p><code>firstindex()</code>: return the first index in a string.</p></li>
<li><p><code>lastindex()</code>: return the last index in a string.</p></li>
<li><p><code>nextind(s, i)</code>: return the next index of the element following index <code>i</code> in <code>s</code>.</p></li>
<li><p><code>eachindex()</code>: return the indices of each element.</p></li>
<li><p>Using <code>for</code> loop to iterate a string.</p></li>
</ul>
<div id="2f345a94" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"123一二三"</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>i <span class="op">=</span> <span class="fu">firstindex</span>(s)</span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> i <span class="op">&lt;=</span> <span class="fu">lastindex</span>(s)</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>((i, s[i]))</span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>    i <span class="op">=</span> <span class="fu">nextind</span>(s, i)</span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(1, '1')
(2, '2')
(3, '3')
(4, '一')
(7, '二')
(10, '三')</code></pre>
</div>
</div>
<div id="48cd7971" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> s</span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(i)</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1
2
3
一
二
三</code></pre>
</div>
</div>
<div id="dfee46eb" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fu">eachindex</span>(s)</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>((i, s[i]))</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(1, '1')
(2, '2')
(3, '3')
(4, '一')
(7, '二')
(10, '三')</code></pre>
</div>
</div>
</section>
<section id="string-operations" class="level5" data-number="2.9.1.3">
<h5 data-number="2.9.1.3" class="anchored" data-anchor-id="string-operations"><span class="header-section-number">2.9.1.3</span> String operations</h5>
<ol type="1">
<li>Splitting strings</li>
</ol>
<div id="35c9c645" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">split</span>(<span class="st">"abc_def_ghi"</span>, <span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="90">
<pre><code>3-element Vector{SubString{String}}:
 "abc"
 "def"
 "ghi"</code></pre>
</div>
</div>
<div id="b82929e3" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="fu">split</span>(<span class="st">"abcAdefBghi"</span>, isuppercase)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<pre><code>3-element Vector{SubString{String}}:
 "abc"
 "def"
 "ghi"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Converting letters between uppercases and lowercases</li>
</ol>
<div id="2571b051" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(uppercasefirst, <span class="fu">split</span>(<span class="st">"abc_def_ghi"</span>, <span class="st">"_"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="92">
<pre><code>3-element Vector{String}:
 "Abc"
 "Def"
 "Ghi"</code></pre>
</div>
</div>
<div id="4885953c" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isuppercase</span>(<span class="ch">'A'</span>)  <span class="co"># Check whether a single letter is in the form of uppercase</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="93">
<pre><code>true</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Joining substrings</li>
</ol>
<div id="03e7129d" class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">join</span>([<span class="st">"abc"</span>, <span class="st">"def"</span>, <span class="st">"ghi"</span>], <span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="94">
<pre><code>"abc_def_ghi"</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Reading from and writing to the clipboard</li>
</ol>
<div id="81faafe7" class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write to the clipboard</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">clipboard</span>(<span class="st">"Hello, world!"</span>)</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read from the clipboard</span></span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a><span class="fu">clipboard</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>"Hello, world!"</code></pre>
</div>
</div>
<p>On Linux, <code>clipboard()</code> works only when you have installed the <code>xsel</code> or <code>xclip</code> commands.</p>
<ol start="5" type="1">
<li>Finding whether a substring is existed in a string by using <code>find*</code> functions</li>
</ol>
<div id="b8c805bb" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">findall</span>(<span class="st">"abc"</span>, <span class="st">"abc_def_abc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<pre><code>2-element Vector{UnitRange{Int64}}:
 1:3
 9:11</code></pre>
</div>
</div>
<div id="2e995b97" class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">findall</span>(isuppercase, <span class="st">"AaBbCc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="97">
<pre><code>3-element Vector{Int64}:
 1
 3
 5</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Converting between numbers and strings</li>
</ol>
<div id="c8a9729a" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse</span>(<span class="dt">Float64</span>, <span class="st">"3.14"</span>)  <span class="co"># The default base is 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>3.14</code></pre>
</div>
</div>
<div id="5c4e4c59" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse</span>(<span class="dt">Int</span>, <span class="st">"1010101"</span>, base <span class="op">=</span> <span class="fl">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="99">
<pre><code>85</code></pre>
</div>
</div>
<div id="1ce55d3d" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">string</span>(<span class="fl">100</span>)  <span class="co"># The default base is 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">
<pre><code>"100"</code></pre>
</div>
</div>
<div id="88a5062d" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">string</span>(<span class="fl">100</span>, base <span class="op">=</span> <span class="fl">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="101">
<pre><code>"1100100"</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>String concatenation</li>
</ol>
<div id="a79f4742" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="op">=</span> <span class="st">"apple"</span></span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a><span class="fu">string</span>(<span class="st">"This is a(an) "</span>, fruit, <span class="st">", made in China."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>"This is a(an) apple, made in China."</code></pre>
</div>
</div>
<div id="76f969ff" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="st">"This is a(an) "</span> <span class="op">*</span> fruit <span class="op">*</span> <span class="st">", made in China."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="103">
<pre><code>"This is a(an) apple, made in China."</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>String interpolation</li>
</ol>
<div id="e335ae08" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="st">"This is a(an) </span><span class="sc">$</span>fruit<span class="st">, made in China."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<pre><code>"This is a(an) apple, made in China."</code></pre>
</div>
</div>
<div id="7324f7dc" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="st">"This is a(an) </span><span class="sc">$</span>(fruit)<span class="st">, made in China."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="105">
<pre><code>"This is a(an) apple, made in China."</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>String formatting</li>
</ol>
<p>You can use macros <code>@printf</code> and <code>@sprintf</code> to perform string formatting. These two macros are defined in the Printf module.</p>
<p>In Julia, macros are distinguished from functions with the <code>@</code> prefix.</p>
<p>A macro is akin to a code generator; the call site of a macro gets replaced with other code.</p>
<ul>
<li><code>@printf</code> outputs the result to the console:</li>
</ul>
<div id="b5883996" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Printf</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@printf</span>(<span class="st">"π = %0.2f"</span>, <span class="cn">pi</span>)  <span class="co"># Output pi (floating-point number) with two digits</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>π = 3.14</code></pre>
</div>
</div>
<ul>
<li><code>@sprintf</code> returns the result as a string.</li>
</ul>
<div id="5b197043" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@sprintf</span>(<span class="st">"π = %0.2f"</span>, <span class="cn">pi</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>"π = 3.14"</code></pre>
</div>
</div>
<p>For a systematic specification of the format, see <a href="https://cplusplus.com/reference/cstdio/printf">here</a>.</p>
</section>
<section id="nonstandard-string-literals" class="level5" data-number="2.9.1.4">
<h5 data-number="2.9.1.4" class="anchored" data-anchor-id="nonstandard-string-literals"><span class="header-section-number">2.9.1.4</span> Nonstandard string literals</h5>
<p>In Julia, you cannot express very large numbers as number literals, so you have to express them as strings that get parsed later.</p>
<p>e.g.</p>
<div id="c71f078f" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fl">3.14e600</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: syntax: overflow in numeric constant "3.14e600"</code></pre>
</div>
</div>
<div id="c0ffe091" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fu">parse</span>(<span class="dt">BigFloat</span>, <span class="st">"3.14e600"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="109">
<pre><code>3.140000000000000000000000000000000000000000000000000000000000000000000000000003e+600</code></pre>
</div>
</div>
<div id="36f9e966" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre><code>BigFloat</code></pre>
</div>
</div>
<p>If you put such a expression into a loop, then it will be run at least once in each loop:</p>
<div id="f08839f4" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fu">parse</span>(<span class="dt">BigFloat</span>, <span class="st">"3.14e600"</span>)</span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(x)</span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3.140000000000000000000000000000000000000000000000000000000000000000000000000003e+600
3.140000000000000000000000000000000000000000000000000000000000000000000000000003e+600
3.140000000000000000000000000000000000000000000000000000000000000000000000000003e+600
3.140000000000000000000000000000000000000000000000000000000000000000000000000003e+600</code></pre>
</div>
</div>
<p>This will damage the performance of your program.</p>
<p>To avoid having to parse strings to create objects such as <code>BigFloat</code> in each loop, Julia provides special string literals such as <code>big"3.14e600"</code>.</p>
<p>Julia will parse such a string literal only once for a <code>for</code> loop in your program, but run them many times (i.e.&nbsp;it won’t be parsed in each loop).</p>
<p>In other words, these objects such as <code>BigFloat</code> are created at parse time, rather than runtime.</p>
<ol type="1">
<li>DateFormat strings</li>
</ol>
<ul>
<li>In the following code, the <code>DateFormat</code> object will be created in each loop:</li>
</ul>
<div id="57183eea" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Dates</span></span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-3"><a href="#cb232-3" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> [<span class="st">"21/7"</span>, <span class="st">"8/12"</span>, <span class="st">"28/2"</span>]</span>
<span id="cb232-4"><a href="#cb232-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-5"><a href="#cb232-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> s <span class="kw">in</span> dates</span>
<span id="cb232-6"><a href="#cb232-6" aria-hidden="true" tabindex="-1"></a>    date <span class="op">=</span> <span class="fu">Date</span>(s, <span class="fu">DateFormat</span>(<span class="st">"dd/mm"</span>))  <span class="co"># Convert a date string into a date object</span></span>
<span id="cb232-7"><a href="#cb232-7" aria-hidden="true" tabindex="-1"></a>    date_str <span class="op">=</span> <span class="bu">Dates</span>.<span class="fu">format</span>(date, <span class="fu">DateFormat</span>(<span class="st">"E-u"</span>))  <span class="co"># Convert a date object into a date string with given date format</span></span>
<span id="cb232-8"><a href="#cb232-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(date_str)</span>
<span id="cb232-9"><a href="#cb232-9" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Saturday-Jul
Saturday-Dec
Wednesday-Feb</code></pre>
</div>
</div>
<ul>
<li>In the following code, the <code>DateFormat</code> object will be created once, but the code becomes less clear at the first glance:</li>
</ul>
<div id="ac5acad8" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Dates</span></span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-3"><a href="#cb234-3" aria-hidden="true" tabindex="-1"></a>informat <span class="op">=</span> <span class="fu">DateFormat</span>(<span class="st">"dd/mm"</span>)</span>
<span id="cb234-4"><a href="#cb234-4" aria-hidden="true" tabindex="-1"></a>outformat <span class="op">=</span> <span class="fu">DateFormat</span>(<span class="st">"E-u"</span>)</span>
<span id="cb234-5"><a href="#cb234-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-6"><a href="#cb234-6" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> [<span class="st">"21/7"</span>, <span class="st">"8/12"</span>, <span class="st">"28/2"</span>]</span>
<span id="cb234-7"><a href="#cb234-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-8"><a href="#cb234-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> s <span class="kw">in</span> dates</span>
<span id="cb234-9"><a href="#cb234-9" aria-hidden="true" tabindex="-1"></a>    date <span class="op">=</span> <span class="fu">Date</span>(s, informat)  <span class="co"># Convert a date string into a date object</span></span>
<span id="cb234-10"><a href="#cb234-10" aria-hidden="true" tabindex="-1"></a>    date_str <span class="op">=</span> <span class="bu">Dates</span>.<span class="fu">format</span>(date, outformat)  <span class="co"># Convert a date object into a date string with given date format</span></span>
<span id="cb234-11"><a href="#cb234-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(date_str)</span>
<span id="cb234-12"><a href="#cb234-12" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Saturday-Jul
Saturday-Dec
Wednesday-Feb</code></pre>
</div>
</div>
<ul>
<li>We can use the <code>dateformat</code> literal to solve this problem:</li>
</ul>
<div id="05662bd5" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Dates</span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-3"><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> [<span class="st">"21/7"</span>, <span class="st">"8/12"</span>, <span class="st">"28/2"</span>]</span>
<span id="cb236-4"><a href="#cb236-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-5"><a href="#cb236-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> s <span class="kw">in</span> dates</span>
<span id="cb236-6"><a href="#cb236-6" aria-hidden="true" tabindex="-1"></a>    date <span class="op">=</span> <span class="fu">Date</span>(s, dateformat<span class="st">"dd/mm"</span>)  <span class="co"># Convert a date string into a date object</span></span>
<span id="cb236-7"><a href="#cb236-7" aria-hidden="true" tabindex="-1"></a>    date_str <span class="op">=</span> <span class="bu">Dates</span>.<span class="fu">format</span>(date, dateformat<span class="st">"E-u"</span>)  <span class="co"># Convert a date object into a date string with given date format</span></span>
<span id="cb236-8"><a href="#cb236-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(date_str)</span>
<span id="cb236-9"><a href="#cb236-9" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Saturday-Jul
Saturday-Dec
Wednesday-Feb</code></pre>
</div>
</div>
<p>For detaild date format specifications, see <code>?DateFormat</code>.</p>
<ol start="2" type="1">
<li>Raw strings</li>
</ol>
<p>In regular Julia strings, characters such as <code>$</code> and <code>\n</code> have special meaning.</p>
<p>If you just want every character in a string to be literal, you need to prefix special characters with a <code>\</code> to escape them.</p>
<p>But the more convinient way is to prefix a string with <code>raw</code> to tell Julia that this is a raw string, which means that every character in it is literal.</p>
<div id="deeade57" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>num <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="st">raw"What? $(num)?"</span>  <span class="co"># num won't be replaced by its actual value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>"What? \$(num)?"</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Regular expressions</li>
</ol>
<p>In Julia, you can create a <code>Regex</code> object by prefixing your regular expression string with a <code>r</code>.</p>
<div id="b1971e0a" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"E-mail address: 123456@qq.com"</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb240-3"><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a><span class="fu">replace</span>(s, <span class="st">r"</span><span class="sc">\d+</span><span class="ch">(?</span><span class="st">=@</span><span class="ch">)</span><span class="st">"</span> <span class="op">=&gt;</span> <span class="st">"abcdef"</span>)  <span class="co"># Replace matched part with the pair value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>"E-mail address: abcdef@qq.com"</code></pre>
</div>
</div>
<p>In the following code, <code>match(r, s)</code> will search for the first match of the regular expression <code>r</code> in <code>s</code> and return a <code>RegexMatch</code> object containing the match, or <code>nothing</code> if the match failed.</p>
<div id="7cb4c1a0" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>rx <span class="op">=</span> <span class="st">r"</span><span class="sc">\d+</span><span class="st">:</span><span class="sc">\d+</span><span class="st">"</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fu">match</span>(rx, <span class="st">"11:30 in the morning; 12:00 in the noon"</span>)</span>
<span id="cb242-4"><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-5"><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>RegexMatch("11:30")</code></pre>
</div>
</div>
<p>If some parts of the regular expression are contained within parentheses, then these matched parts will be extracted out alone from the matched string, and you can retrieve these parts by indices:</p>
<div id="f678833d" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>rx <span class="op">=</span> <span class="st">r"</span><span class="ch">(</span><span class="sc">\d+</span><span class="ch">)</span><span class="st">:</span><span class="ch">(</span><span class="sc">\d+</span><span class="ch">)</span><span class="st">"</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fu">match</span>(rx, <span class="st">"11:30 in the morning; 12:00 in the noon"</span>)</span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-5"><a href="#cb244-5" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="118">
<pre><code>RegexMatch("11:30", 1="11", 2="30")</code></pre>
</div>
</div>
<div id="58392545" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>m[<span class="fl">1</span>], m[<span class="fl">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="119">
<pre><code>("11", "30")</code></pre>
</div>
</div>
<p>Further, you can give these parts names (<code>?&lt;name&gt;</code>) so you can retrieve them by names instead of indices:</p>
<div id="e0b41406" class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>rx <span class="op">=</span> <span class="st">r"</span><span class="ch">(?</span><span class="st">&lt;hour&gt;</span><span class="sc">\d+</span><span class="ch">)</span><span class="st">:</span><span class="ch">(?</span><span class="st">&lt;minute&gt;</span><span class="sc">\d+</span><span class="ch">)</span><span class="st">"</span></span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fu">match</span>(rx, <span class="st">"11:30 in the morning; 12:00 in the noon"</span>)</span>
<span id="cb248-4"><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-5"><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="120">
<pre><code>RegexMatch("11:30", hour="11", minute="30")</code></pre>
</div>
</div>
<div id="5a1d6b79" class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>m[<span class="st">"hour"</span>], m[<span class="st">"minute"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="121">
<pre><code>("11", "30")</code></pre>
</div>
</div>
<p>In addition, you can also iterate over a <code>RegexMatch</code> object, and many functions applicable to dictionaries also works with the <code>RegexMatch</code> object.</p>
<ol start="4" type="1">
<li>Number literals with <code>big</code></li>
</ol>
<p>You can use the <code>big</code> number literal to create extremely large numbers:</p>
<div id="2983677d" class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(big<span class="st">"100"</span>)  <span class="co"># BigInt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="122">
<pre><code>BigInt</code></pre>
</div>
</div>
<div id="0a51f589" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(big<span class="st">"1e600"</span>)  <span class="co"># BigFloat</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="123">
<pre><code>BigFloat</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Defining your own number literals with macros</li>
</ol>
<div id="c13d1d81" class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="kw">macro</span> <span class="fu">int8_str</span>(s)  <span class="co"># For a string literal with the prefix foo, such as foo"100", write foo_str</span></span>
<span id="cb256-2"><a href="#cb256-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(<span class="st">"hello"</span>)  <span class="co"># You can check how many times the "hello" will be printed when you call this macro in a loop</span></span>
<span id="cb256-3"><a href="#cb256-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">parse</span>(<span class="dt">Int8</span>, s)  <span class="co"># Parse the number string and return an 8-bit number</span></span>
<span id="cb256-4"><a href="#cb256-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>@int8_str (macro with 1 method)</code></pre>
</div>
</div>
<div id="9f493a5d" class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb258-2"><a href="#cb258-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb258-3"><a href="#cb258-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The "hello" will be printed only once,</span></span>
<span id="cb258-4"><a href="#cb258-4" aria-hidden="true" tabindex="-1"></a><span class="co"># which indicates that the 8-bit integer is created when the program is parsed,</span></span>
<span id="cb258-5"><a href="#cb258-5" aria-hidden="true" tabindex="-1"></a><span class="co"># not each time it is run</span></span>
<span id="cb258-6"><a href="#cb258-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span>
<span id="cb258-7"><a href="#cb258-7" aria-hidden="true" tabindex="-1"></a>    total <span class="op">+=</span> int8<span class="st">"10"</span></span>
<span id="cb258-8"><a href="#cb258-8" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hello</code></pre>
</div>
</div>
<div id="9c048cba" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a>total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>40</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>MIME types</li>
</ol>
<p>MIME means Multipurpose Internet Mail Extensions, which is used as a standard to identify the file types across devices because Windows usually uses a filename extension to indicate the type of a file, while Unix-like system stores the file type in special attributes.</p>
<p>In Julia, you can create a MIME type object in the following way:</p>
<div id="11fbc9cb" class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="fu">MIME</span>(<span class="st">"text/html"</span>)  <span class="co"># This denotes that the type of this file is a HTML page</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>MIME type text/html</code></pre>
</div>
</div>
<div id="d33d4c5c" class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="kw">ans</span>)  <span class="co"># The above MIME object with the type of MIME{Symbol("text/html")}.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>MIME{Symbol("text/html")}</code></pre>
</div>
</div>
<p>Now we know that <code>MIME</code> type is a parametric type. When you pass <code>"text/html"</code> to its constructor, the concrete type of the object is <code>MIME{Symbol("text/html")}</code>. This is long and cumbersome to write so this is why Julia offers the shortcut <code>MIME"text/html"</code>, <strong>which is a concrete MIME type, not an object</strong>.</p>
<div id="fcb340d9" class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hello</span>(<span class="op">::</span><span class="dt">MIME"text/plain"</span>) <span class="op">=</span> <span class="st">"hello world"</span></span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hello</span>(<span class="op">::</span><span class="dt">MIME"text/html"</span>) <span class="op">=</span> <span class="st">"&lt;h1&gt;hello world&lt;/h1&gt;"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<pre><code>say_hello (generic function with 2 methods)</code></pre>
</div>
</div>
<div id="75b38855" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hello</span>(<span class="fu">MIME</span>(<span class="st">"text/plain"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="130">
<pre><code>"hello world"</code></pre>
</div>
</div>
<div id="29e57dc1" class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb270"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hello</span>(<span class="fu">MIME</span>(<span class="st">"text/html"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>"&lt;h1&gt;hello world&lt;/h1&gt;"</code></pre>
</div>
</div>
</section>
</section>
<section id="arrays" class="level4" data-number="2.9.2">
<h4 data-number="2.9.2" class="anchored" data-anchor-id="arrays"><span class="header-section-number">2.9.2</span> Arrays</h4>
<section id="types-of-arrays" class="level5" data-number="2.9.2.1">
<h5 data-number="2.9.2.1" class="anchored" data-anchor-id="types-of-arrays"><span class="header-section-number">2.9.2.1</span> Types of arrays</h5>
<ol type="1">
<li>1D array</li>
</ol>
<ul>
<li>Column vector (type <code>Vector</code>)</li>
</ul>
<p>Elements are separated by <code>,</code> inside <code>[]</code>.</p>
<p>Creating a column vector with default data type:</p>
<div id="766e75b7" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a>column_vector <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="132">
<pre><code>3-element Vector{Int64}:
 1
 2
 3</code></pre>
</div>
</div>
<p>Creating a column vector with given data type:</p>
<div id="402017af" class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a>column_vector <span class="op">=</span> <span class="dt">Int8</span>[<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="133">
<pre><code>3-element Vector{Int8}:
 1
 2
 3</code></pre>
</div>
</div>
<p>You can check what type each element in an array is by using the <code>eltype()</code> function. If an array contains different types of elements, it will return <code>Any</code>.</p>
<ul>
<li>Row vector (1 by n matrix, type <code>Matrix</code>)</li>
</ul>
<p>Elements are separated by space.</p>
<div id="edf36296" class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a>row_vector <span class="op">=</span> [<span class="fl">1</span> <span class="fl">2</span> <span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="134">
<pre><code>1×3 Matrix{Int64}:
 1  2  3</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>2D array (type <code>Matrix</code>)</li>
</ol>
<p>Rows are separated by <code>;</code>.</p>
<div id="a4337340" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [<span class="fl">1</span> <span class="fl">2</span> <span class="fl">3</span>;</span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a>          <span class="fl">4</span> <span class="fl">5</span> <span class="fl">6</span>;</span>
<span id="cb278-3"><a href="#cb278-3" aria-hidden="true" tabindex="-1"></a>          <span class="fl">7</span> <span class="fl">8</span> <span class="fl">9</span>]</span>
<span id="cb278-4"><a href="#cb278-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-5"><a href="#cb278-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb278-6"><a href="#cb278-6" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [<span class="fl">1</span> <span class="fl">2</span> <span class="fl">3</span>; <span class="fl">4</span> <span class="fl">5</span> <span class="fl">6</span>; <span class="fl">7</span> <span class="fl">8</span> <span class="fl">9</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="135">
<pre><code>3×3 Matrix{Int64}:
 1  2  3
 4  5  6
 7  8  9</code></pre>
</div>
</div>
<p>Columns are separated by space:</p>
<div id="d0efcf03" class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>] [<span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>] [<span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="136">
<pre><code>3×3 Matrix{Int64}:
 1  4  7
 2  5  8
 3  6  9</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Array (type <code>Array</code>)</li>
</ol>
<p>The dimension of an array is greater than 2.</p>
<div id="1b11a32b" class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu">zeros</span>(<span class="dt">Int64</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>)  <span class="co"># two rows, three columns, and four slices</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre><code>2×3×4 Array{Int64, 3}:
[:, :, 1] =
 0  0  0
 0  0  0

[:, :, 2] =
 0  0  0
 0  0  0

[:, :, 3] =
 0  0  0
 0  0  0

[:, :, 4] =
 0  0  0
 0  0  0</code></pre>
</div>
</div>
</section>
<section id="creating-arrays-by-specific-functions" class="level5" data-number="2.9.2.2">
<h5 data-number="2.9.2.2" class="anchored" data-anchor-id="creating-arrays-by-specific-functions"><span class="header-section-number">2.9.2.2</span> Creating arrays by specific functions</h5>
<p><code>zeros()</code>, <code>ones()</code>, <code>fill()</code>, <code>rand()</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Arrays can contain any type of element.</p>
<p>You can check the type of an object by using either <code>typeof()</code>, which <strong>reports the types of the object itself and its elements</strong>; or <code>eltype()</code>, which <strong>only reports the type of its elements</strong>.</p>
<p>Julia will guess the type of elements in an array if it’s not given explicitly when an array is created.</p>
<p>If an array contains different types of elements, then the type of elements in this array will be <code>Any</code>, which means that you can store any type of values.</p>
<p>When you add elements to an array by using <code>push!()</code>, it will check <strong>whether the type of elements to be added is consistent with the type of elements in this array</strong>, or <strong>whether the type of elements to be added can be converted to the type of elements in this array</strong>. If both failed, Julia will raise an error!</p>
</div>
</div>
</section>
<section id="accessing-array-attributes" class="level5" data-number="2.9.2.3">
<h5 data-number="2.9.2.3" class="anchored" data-anchor-id="accessing-array-attributes"><span class="header-section-number">2.9.2.3</span> Accessing array attributes</h5>
<ol type="1">
<li><p><code>size()</code>: the size of each dimension of an array.</p></li>
<li><p><code>eltype()</code>: the type of elements in an array.</p></li>
<li><p><code>typeof()</code>: the type of the object itself and its elements.</p></li>
<li><p><code>ndims()</code>: the dimension of an array.</p></li>
<li><p><code>length()</code>: total number of elements in an array.</p></li>
<li><p><code>reshape()</code>: change the shape of an array.</p></li>
<li><p><code>norm()</code>: magnitude of a vector, calculated by the following formula (this function comes from the package LinearAlgebra).</p></li>
</ol>
<p><span class="math display">\[
\|A\|_p = \left(\sum_{i=1}^n |a_i|^p \right)^{1/p}
\]</span></p>
</section>
<section id="operartions-on-arrays" class="level5" data-number="2.9.2.4">
<h5 data-number="2.9.2.4" class="anchored" data-anchor-id="operartions-on-arrays"><span class="header-section-number">2.9.2.4</span> Operartions on arrays</h5>
<p>Suppose we have:</p>
<div id="f4db4aa4" class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>amounts <span class="op">=</span> [<span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">1</span>, <span class="fl">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="138">
<pre><code>6-element Vector{Int64}:
  4
  2
  5
  8
  1
 10</code></pre>
</div>
</div>
<div id="5fb933a8" class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> [<span class="fl">15.0</span>, <span class="fl">2.5</span>, <span class="fl">3.8</span>, <span class="fl">9.0</span>, <span class="fl">10.5</span>, <span class="fl">8.5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="139">
<pre><code>6-element Vector{Float64}:
 15.0
  2.5
  3.8
  9.0
 10.5
  8.5</code></pre>
</div>
</div>
<p>Note: both <code>amounts</code> and <code>prices</code> are <strong>column vectors</strong>.</p>
<ul>
<li><code>sum()</code></li>
</ul>
<div id="81aff16b" class="cell" data-execution_count="154">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(amounts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre><code>30</code></pre>
</div>
</div>
<ul>
<li><p><code>push!()</code>: insert one or more items into a collection.</p></li>
<li><p><code>sort()</code> or <code>sort!()</code></p></li>
</ul>
<div id="89526102" class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Not modify input in place</span></span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(amounts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="141">
<pre><code>6-element Vector{Int64}:
  1
  2
  4
  5
  8
 10</code></pre>
</div>
</div>
<div id="8077763e" class="cell" data-execution_count="156">
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a>amounts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="142">
<pre><code>6-element Vector{Int64}:
  4
  2
  5
  8
  1
 10</code></pre>
</div>
</div>
<div id="914cca9f" class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify input in place</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort!</span>(amounts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="143">
<pre><code>6-element Vector{Int64}:
  1
  2
  4
  5
  8
 10</code></pre>
</div>
</div>
<div id="f76c4191" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>amounts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="144">
<pre><code>6-element Vector{Int64}:
  1
  2
  4
  5
  8
 10</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>By convention, Julia functions never modify any of their inputs in place.</p>
<p>If it is necessary to modify inputs in place, Julia has established the convention of tacking on an exclamation mark (<code>!</code>) to the name of any function which modifies its input in place instead of returning a modified version.</p>
</div>
</div>
<ul>
<li>Element-wise operations: <code>.+, .-, .*, ./</code>.</li>
</ul>
<div id="5ee6f859" class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a>amounts <span class="op">.*</span> prices</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">
<pre><code>6-element Vector{Float64}:
 15.0
  5.0
 15.2
 45.0
 84.0
 85.0</code></pre>
</div>
</div>
<ul>
<li><p>Performing statistics by <code>using Statistics</code>.</p></li>
<li><p>Performing operations of linear algebra by <code>using LinearAlgebra</code>.</p></li>
</ul>
</section>
<section id="slicing-and-dicing-an-array" class="level5" data-number="2.9.2.5">
<h5 data-number="2.9.2.5" class="anchored" data-anchor-id="slicing-and-dicing-an-array"><span class="header-section-number">2.9.2.5</span> Slicing and dicing an array</h5>
<p><strong>Elements in a Julia array are numbered starting from 1 (i.e.&nbsp;1-based indexing)!</strong></p>
<div id="76d95aea" class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>vec <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">
<pre><code>6-element Vector{Int64}:
 1
 2
 3
 4
 5
 6</code></pre>
</div>
</div>
<ol type="1">
<li>Accessing elements by using <code>[index]</code>.</li>
</ol>
<p>For arrays with dimension greater than 1, you can use <code>[dim1, dim2, ...]</code>.</p>
<div id="0ac7e4cb" class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="147">
<pre><code>3</code></pre>
</div>
</div>
<p>Of course, subsetting and then assignment is supported:</p>
<div id="bb253bdc" class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="fl">3</span>] <span class="op">=</span> <span class="fl">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="148">
<pre><code>100</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Using <code>begin</code> and <code>end</code> to access the first and last element.</li>
</ol>
<div id="b10e8181" class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a>vec[begin], vec[<span class="kw">end</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>(1, 6)</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Using <code>:</code> to access all elements of some dimension.</li>
</ol>
<div id="c42c488d" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="op">:</span>]  <span class="co"># Access the whole vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<pre><code>6-element Vector{Int64}:
   1
   2
 100
   4
   5
   6</code></pre>
</div>
</div>
<div id="d041f99c" class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(<span class="dt">Int64</span>, <span class="fl">3</span>, <span class="fl">3</span>)</span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-3"><a href="#cb310-3" aria-hidden="true" tabindex="-1"></a>A[<span class="op">:</span>, <span class="fl">1</span>]  <span class="co"># Access the 1st column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="151">
<pre><code>3-element Vector{Int64}:
 2908774523069697584
  242535367532563927
 7704387734351888296</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>All slice operations return <strong>copies</strong> of data.</p>
<div id="09cc1b76" class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">collect</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">6</span>)</span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> A[<span class="fl">4</span><span class="op">:</span><span class="kw">end</span>]</span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-5"><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a>B[<span class="fl">1</span>] <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb312-6"><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-7"><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="152">
<pre><code>3-element Vector{Int64}:
 100
   5
   6</code></pre>
</div>
</div>
<div id="e7b94680" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="153">
<pre><code>6-element Vector{Int64}:
 1
 2
 3
 4
 5
 6</code></pre>
</div>
</div>
<p>Instead, to avoid copying data during slicing an array, you can prefix the <code>@view</code> macro to the slice operations, since it will only return a <em>view</em> of subset of the array.</p>
<div id="8925ca02" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">collect</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">6</span>)</span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-3"><a href="#cb316-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="pp">@view</span> A[<span class="fl">4</span><span class="op">:</span><span class="kw">end</span>]</span>
<span id="cb316-4"><a href="#cb316-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-5"><a href="#cb316-5" aria-hidden="true" tabindex="-1"></a>B[<span class="fl">1</span>] <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb316-6"><a href="#cb316-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-7"><a href="#cb316-7" aria-hidden="true" tabindex="-1"></a>B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="154">
<pre><code>3-element view(::Vector{Int64}, 4:6) with eltype Int64:
 100
   5
   6</code></pre>
</div>
</div>
<div id="79448ea1" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb318"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="155">
<pre><code>6-element Vector{Int64}:
   1
   2
   3
 100
   5
   6</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="combining-arrays" class="level5" data-number="2.9.2.6">
<h5 data-number="2.9.2.6" class="anchored" data-anchor-id="combining-arrays"><span class="header-section-number">2.9.2.6</span> Combining arrays</h5>
<p><code>cat()</code>, <code>hcat()</code>, and <code>vcat()</code>.</p>
</section>
</section>
<section id="tuples" class="level4" data-number="2.9.3">
<h4 data-number="2.9.3" class="anchored" data-anchor-id="tuples"><span class="header-section-number">2.9.3</span> Tuples</h4>
<p>Elements are separated by <code>,</code> inside <code>()</code>.</p>
<div id="f35a89cb" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> (<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="156">
<pre><code>(1, 2, 3)</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Creating a tuple containing only one element with <code>(1,)</code> (i.e.&nbsp;adding a <code>,</code> after the element).</p>
<p>Tuples are <strong>immutable</strong> once created.</p>
</div>
</div>
<section id="named-tuples" class="level5" data-number="2.9.3.1">
<h5 data-number="2.9.3.1" class="anchored" data-anchor-id="named-tuples"><span class="header-section-number">2.9.3.1</span> Named tuples</h5>
<div id="e0caa7dc" class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb322"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a>student <span class="op">=</span> (name <span class="op">=</span> <span class="st">"Bob"</span>, score  <span class="op">=</span> <span class="fl">99</span>, height <span class="op">=</span> <span class="fl">2</span>)</span>
<span id="cb322-2"><a href="#cb322-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb322-3"><a href="#cb322-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Index by Symbol or dot</span></span>
<span id="cb322-4"><a href="#cb322-4" aria-hidden="true" tabindex="-1"></a>student[<span class="op">:</span>name], student.name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="157">
<pre><code>("Bob", "Bob")</code></pre>
</div>
</div>
<div id="02d7cb6f" class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Symbol &lt;==&gt; String</span></span>
<span id="cb324-2"><a href="#cb324-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Symbol</span>(<span class="st">"price"</span>), <span class="fu">string</span>(<span class="op">:</span>price)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="158">
<pre><code>(:price, "price")</code></pre>
</div>
</div>
</section>
</section>
<section id="dictionaries" class="level4" data-number="2.9.4">
<h4 data-number="2.9.4" class="anchored" data-anchor-id="dictionaries"><span class="header-section-number">2.9.4</span> Dictionaries</h4>
<p>A dictionary is made up of <strong>a number of pairs of <code>key =&gt; value</code></strong>, where key and value can be any type of values.</p>
<section id="creating-a-dictionary" class="level5" data-number="2.9.4.1">
<h5 data-number="2.9.4.1" class="anchored" data-anchor-id="creating-a-dictionary"><span class="header-section-number">2.9.4.1</span> Creating a dictionary</h5>
<ul>
<li>Creating a pair with the arrow operator <code>=&gt;</code>:</li>
</ul>
<div id="1fa10978" class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> <span class="ch">'a'</span> <span class="op">=&gt;</span> <span class="fl">1</span>  <span class="co"># This is a pair with type Pair</span></span>
<span id="cb326-2"><a href="#cb326-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb326-3"><a href="#cb326-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="159">
<pre><code>Pair{Char, Int64}</code></pre>
</div>
</div>
<div id="07972cae" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb328"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dump</span>(p)  <span class="co"># You can use dump() to look at the fields of any value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Pair{Char, Int64}
  first: Char 'a'
  second: Int64 1</code></pre>
</div>
</div>
<div id="08d1e6ab" class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From the output of dump(), we can easily see how to get values of a pair</span></span>
<span id="cb330-2"><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This will generate a tuple by putting several values in one line by separating them with a comma</span></span>
<span id="cb330-3"><a href="#cb330-3" aria-hidden="true" tabindex="-1"></a><span class="co"># the functions first() and last() are versatile for ordered collections</span></span>
<span id="cb330-4"><a href="#cb330-4" aria-hidden="true" tabindex="-1"></a>p.first, p.second, <span class="fu">first</span>(p), <span class="fu">last</span>(p), p[<span class="fl">1</span>], p[<span class="fl">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<pre><code>('a', 1, 'a', 1, 'a', 1)</code></pre>
</div>
</div>
<ul>
<li>You can provide a list of pairs to create a dictionary:</li>
</ul>
<div id="7c686e36" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> <span class="fu">Dict</span>(<span class="ch">'a'</span> <span class="op">=&gt;</span> <span class="fl">1</span>, <span class="ch">'b'</span> <span class="op">=&gt;</span> <span class="fl">2</span>, <span class="ch">'c'</span> <span class="op">=&gt;</span> <span class="fl">3</span>)</span>
<span id="cb332-2"><a href="#cb332-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb332-3"><a href="#cb332-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<pre><code>Dict{Char, Int64}</code></pre>
</div>
</div>
<div id="752ff2ce" class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dump</span>(d)  <span class="co"># Checking the fields of a dictionary</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dict{Char, Int64}
  slots: Array{UInt8}((16,)) UInt8[0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf4, 0xad, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe3, 0x00]
  keys: Array{Char}((16,))
    1: Char '\x9c\xb9\xf5\xb0'
    2: Char '\x00\x00\x02\x8a'
    3: Char '\x9c\xb9\xf5\xe0'
    4: Char '\x00\x00\x02\x8a'
    5: Char '\x9c\xb9\xf6\xa0'
    ...
    12: Char '\x00\x00\x02\x8a'
    13: Char '\x9c\xb9\xf7\x90'
    14: Char '\x00\x00\x02\x8a'
    15: Char 'b'
    16: Char '\x00\x00\x02\x8a'
  vals: Array{Int64}((16,)) [2795005413472, 2795005413488, 2795005413504, 2795005413520, 2795005413536, 2795005413552, 2795005413568, 1, 3, 2794328163312, 2794328163248, 2794328163184, 2794328163120, 140726803623792, 2, 140726803623792]
  ndel: Int64 0
  count: Int64 3
  age: UInt64 0x0000000000000003
  idxfloor: Int64 8
  maxprobe: Int64 1</code></pre>
</div>
</div>
<ul>
<li>Passing an array of pairs to the dictionary constructor:</li>
</ul>
<div id="ccc911cb" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [<span class="ch">'a'</span> <span class="op">=&gt;</span> <span class="fl">1</span>, <span class="ch">'b'</span> <span class="op">=&gt;</span> <span class="fl">2</span>, <span class="ch">'c'</span> <span class="op">=&gt;</span> <span class="fl">3</span>]</span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Dict</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="164">
<pre><code>Dict{Char, Int64} with 3 entries:
  'a' =&gt; 1
  'c' =&gt; 3
  'b' =&gt; 2</code></pre>
</div>
</div>
<ul>
<li>Passing an array of tuples containing only <strong>two</strong> elements to <code>Dict()</code>:</li>
</ul>
<div id="2f8f81b7" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb338"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [(<span class="ch">'a'</span> <span class="op">=&gt;</span> <span class="fl">1</span>), (<span class="ch">'b'</span> <span class="op">=&gt;</span> <span class="fl">2</span>), (<span class="ch">'c'</span> <span class="op">=&gt;</span> <span class="fl">3</span>)]</span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-3"><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a><span class="fu">Dict</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="165">
<pre><code>Dict{Char, Int64} with 3 entries:
  'a' =&gt; 1
  'c' =&gt; 3
  'b' =&gt; 2</code></pre>
</div>
</div>
<ul>
<li>Creating an empty dictionary:</li>
</ul>
<div id="4204cd4d" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb340"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb340-1"><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Dict</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="166">
<pre><code>Dict{Any, Any}()</code></pre>
</div>
</div>
<ul>
<li>Creating an empty dictionary with given types of keys and values:</li>
</ul>
<div id="592c315a" class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb342"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb342-1"><a href="#cb342-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> <span class="fu">Dict</span><span class="dt">{String, Int64}</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="167">
<pre><code>Dict{String, Int64}()</code></pre>
</div>
</div>
<p>In the above case, you must provide the keys and values with matched types as set above:</p>
<div id="d877c41c" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb344"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb344-1"><a href="#cb344-1" aria-hidden="true" tabindex="-1"></a>d[<span class="st">"a"</span>] <span class="op">=</span> <span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="168">
<pre><code>1</code></pre>
</div>
</div>
<div id="9cbd0c24" class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb346"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb346-1"><a href="#cb346-1" aria-hidden="true" tabindex="-1"></a>d[<span class="ch">'b'</span>] <span class="op">=</span> <span class="fl">2</span>  <span class="co"># This will raise an error, because the type of 'b' is Char, not String</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: Cannot `convert` an object of type <span class="ansi-bright-green-fg">Char</span> to an object of type <span class="ansi-bright-red-fg">String</span>

Closest candidates are:
  convert(::Type{String}, <span class="ansi-bright-red-fg">::FilePathsBase.AbstractPath</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-cyan-fg">FilePathsBase</span> <span class="ansi-bright-black-fg">C:\Users\brain\.julia\packages\FilePathsBase\4RrDh\src\</span><span style="text-decoration:underline" class="ansi-bright-black-fg">path.jl:117</span>
  convert(::Type{String}, <span class="ansi-bright-red-fg">::String</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-bright-black-fg">Base</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">essentials.jl:298</span>
  convert(::Type{T}, <span class="ansi-bright-red-fg">::T</span>) where T&lt;:AbstractString
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-bright-black-fg">Base</span> <span class="ansi-bright-black-fg">strings\</span><span style="text-decoration:underline" class="ansi-bright-black-fg">basic.jl:231</span>
  ...
</pre>
</div>
</div>
</div>
<ul>
<li>Creating a dictionary from two separate arrays zipped by <code>zip()</code> function:</li>
</ul>
<div id="f9f6a759" class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Dict</span>(<span class="fu">zip</span>(<span class="ch">'a'</span><span class="op">:</span><span class="ch">'c'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="170">
<pre><code>Dict{Char, Int64} with 3 entries:
  'a' =&gt; 1
  'c' =&gt; 3
  'b' =&gt; 2</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>zip()</code> function can zip the corresponding values in a list of arrays into paired tuples, until any of them is exhausted.</p>
<div id="bb53619c" class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect</span>(<span class="fu">zip</span>(<span class="ch">'a'</span><span class="op">:</span><span class="ch">'c'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="ch">'A'</span><span class="op">:</span><span class="ch">'C'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="171">
<pre><code>3-element Vector{Tuple{Char, Int64, Char}}:
 ('a', 1, 'A')
 ('b', 2, 'B')
 ('c', 3, 'C')</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="accessing-elements" class="level5" data-number="2.9.4.2">
<h5 data-number="2.9.4.2" class="anchored" data-anchor-id="accessing-elements"><span class="header-section-number">2.9.4.2</span> Accessing elements</h5>
<div id="92c24d95" class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb351"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> <span class="fu">Dict</span>(i <span class="op">=&gt;</span> j <span class="cf">for</span> (i, j) <span class="kw">in</span> <span class="fu">zip</span>(<span class="ch">'A'</span><span class="op">:</span><span class="ch">'F'</span>, <span class="ch">'a'</span><span class="op">:</span><span class="ch">'f'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="172">
<pre><code>Dict{Char, Char} with 6 entries:
  'C' =&gt; 'c'
  'D' =&gt; 'd'
  'A' =&gt; 'a'
  'E' =&gt; 'e'
  'F' =&gt; 'f'
  'B' =&gt; 'b'</code></pre>
</div>
</div>
<ul>
<li>By key:</li>
</ul>
<div id="84b6b13c" class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb353"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a>d[<span class="ch">'F'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<pre><code>'f': ASCII/Unicode U+0066 (category Ll: Letter, lowercase)</code></pre>
</div>
</div>
<p>-By <code>get(dict, key, default)</code>: if the <code>key</code> is not in the <code>dict</code>, it will return the <code>default</code>, instead of raising an error.</p>
<div id="734c6127" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb355"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get</span>(d, <span class="ch">'Z'</span>, <span class="op">-</span><span class="fl">1</span>)  <span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="174">
<pre><code>-1</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use <code>keys()</code> and <code>values()</code> to get all keys and values, respectively.</p>
<p>You can check whether a dictionary contains a key by using <code>haskey(dict, key)</code>.</p>
</div>
</div>
</section>
</section>
<section id="sets" class="level4" data-number="2.9.5">
<h4 data-number="2.9.5" class="anchored" data-anchor-id="sets"><span class="header-section-number">2.9.5</span> Sets</h4>
<ol type="1">
<li>Creating sets</li>
</ol>
<div id="ab5cdd1f" class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb357"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> <span class="fu">Set</span>([<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"peach"</span>, <span class="st">"pear"</span>, <span class="st">"orange"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="175">
<pre><code>Set{String} with 5 elements:
  "peach"
  "pear"
  "orange"
  "banana"
  "apple"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Properties of sets</li>
</ol>
<p>The set in Julia is the very set in mathematics.</p>
<p>For a given set S, the following hold:</p>
<ul>
<li><p>Each element x is either in S or not in S.</p></li>
<li><p>Elements are unordered in S.</p></li>
<li><p>There are no duplicate elements in S.</p></li>
</ul>
<ol start="3" type="1">
<li>Set-specific operations</li>
</ol>
<ul>
<li><p>Union: <code>∪</code> or <code>union()</code>.</p></li>
<li><p>Intersection: <code>∩</code> or <code>intersect()</code>.</p></li>
<li><p>Difference: <code>setdiff()</code>.</p></li>
</ul>
<p>Certainly, you can check whether an element belongs to a set or not (see <a href="#nte-memberoperator" class="quarto-xref">Note&nbsp;1</a>), as well as whether a set is a (proper) subset of the other (see <a href="#nte-subsetoperator" class="quarto-xref">Note&nbsp;2</a>).</p>
<div class="callout callout-style-default callout-note callout-titled" title="Subset operator `⊆`">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<a href="" id="nte-subsetoperator"></a>Note&nbsp;2: Subset operator <code>⊆</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use <code>issubset()</code>, <code>⊆</code>, <code>⊇</code>, or <code>⊈</code> to judge the relationship between any two sets.</p>
</div>
</div>
</section>
<section id="collection-comprehension" class="level4" data-number="2.9.6">
<h4 data-number="2.9.6" class="anchored" data-anchor-id="collection-comprehension"><span class="header-section-number">2.9.6</span> Collection comprehension</h4>
<p>An example in terms of an array: <code>[F(x, y, ...) for x = rx, y = ry, ...]</code>, where the latter <code>for</code> is nested within the former one, and generated values can be filtered using the <code>if</code> keyword.</p>
<div id="f7bdc475" class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb359"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb359-1"><a href="#cb359-1" aria-hidden="true" tabindex="-1"></a>[i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span> if i<span class="op">%</span><span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="176">
<pre><code>5-element Vector{Int64}:
  2
  4
  6
  8
 10</code></pre>
</div>
</div>
<div id="2a947c44" class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb361"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb361-1"><a href="#cb361-1" aria-hidden="true" tabindex="-1"></a>[(i, j, k) for (i, j, k) <span class="kw">in</span> <span class="fu">zip</span>(<span class="ch">'A'</span><span class="op">:</span><span class="ch">'F'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="ch">'a'</span><span class="op">:</span><span class="ch">'f'</span>)]  <span class="co"># For (i, j, k), () is mandatory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="177">
<pre><code>6-element Vector{Tuple{Char, Int64, Char}}:
 ('A', 1, 'a')
 ('B', 2, 'b')
 ('C', 3, 'c')
 ('D', 4, 'd')
 ('E', 5, 'e')
 ('F', 6, 'f')</code></pre>
</div>
</div>
<div id="8da88a95" class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb363"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb363-1"><a href="#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Dict</span>(<span class="ch">'A'</span><span class="op">+</span>i <span class="op">=&gt;</span> i<span class="op">+</span><span class="fl">1</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">0</span><span class="op">:</span><span class="fl">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="178">
<pre><code>Dict{Char, Int64} with 11 entries:
  'K' =&gt; 11
  'J' =&gt; 10
  'I' =&gt; 9
  'H' =&gt; 8
  'E' =&gt; 5
  'B' =&gt; 2
  'C' =&gt; 3
  'D' =&gt; 4
  'A' =&gt; 1
  'G' =&gt; 7
  'F' =&gt; 6</code></pre>
</div>
</div>
<div id="b33cf19a" class="cell" data-execution_count="193">
<div class="sourceCode cell-code" id="cb365"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb365-1"><a href="#cb365-1" aria-hidden="true" tabindex="-1"></a>[[j for j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>] for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="179">
<pre><code>3-element Vector{Vector{Int64}}:
 [1, 2, 3, 4, 5, 6]
 [1, 2, 3, 4, 5, 6]
 [1, 2, 3, 4, 5, 6]</code></pre>
</div>
</div>
</section>
<section id="generator" class="level4" data-number="2.9.7">
<h4 data-number="2.9.7" class="anchored" data-anchor-id="generator"><span class="header-section-number">2.9.7</span> Generator</h4>
<p>Collection comprehensions can also be written <strong>without the enclosing brackets</strong>, producing an object known as a generator.</p>
<div id="590c2eb7" class="cell" data-execution_count="194">
<div class="sourceCode cell-code" id="cb367"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb367-1"><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fl">1</span><span class="op">/</span>n<span class="op">^</span><span class="fl">2</span> <span class="cf">for</span> n <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="180">
<pre><code>1.6439345666815615</code></pre>
</div>
</div>
<p><strong>Note:</strong> when writing a generator expression <strong>with multiple dimensions inside an argument list</strong>, parentheses are needed to separate the generator from subsequent arguments.</p>
<div id="f0b33c4d" class="cell" data-execution_count="195">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(tuple, (<span class="fl">1</span><span class="op">/</span>(i<span class="op">+</span>j) <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, j<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>), [<span class="fl">1</span> <span class="fl">3</span>; <span class="fl">2</span> <span class="fl">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="181">
<pre><code>2×2 Matrix{Tuple{Float64, Int64}}:
 (0.5, 1)       (0.333333, 3)
 (0.333333, 2)  (0.25, 4)</code></pre>
</div>
</div>
<p><strong>Generating a matrix:</strong></p>
<div id="43e8ab75" class="cell" data-execution_count="196">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a>[<span class="fl">100</span>i <span class="op">+</span> j for i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, j<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="182">
<pre><code>3×3 Matrix{Int64}:
 101  102  103
 201  202  203
 301  302  303</code></pre>
</div>
</div>
<p>The above code is equivalent to:</p>
<div id="58c0e0ab" class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">zeros</span>(<span class="dt">Float64</span>, <span class="fl">3</span>, <span class="fl">3</span>)</span>
<span id="cb373-2"><a href="#cb373-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb373-3"><a href="#cb373-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span id="cb373-4"><a href="#cb373-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span id="cb373-5"><a href="#cb373-5" aria-hidden="true" tabindex="-1"></a>        A[i,j] <span class="op">=</span> <span class="fl">100</span>i <span class="op">+</span> j</span>
<span id="cb373-6"><a href="#cb373-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb373-7"><a href="#cb373-7" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb373-8"><a href="#cb373-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb373-9"><a href="#cb373-9" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="183">
<pre><code>3×3 Matrix{Float64}:
 101.0  102.0  103.0
 201.0  202.0  203.0
 301.0  302.0  303.0</code></pre>
</div>
</div>
</section>
<section id="enumerating-values-and-indices" class="level4" data-number="2.9.8">
<h4 data-number="2.9.8" class="anchored" data-anchor-id="enumerating-values-and-indices"><span class="header-section-number">2.9.8</span> Enumerating values and indices</h4>
<div id="1e2be2a7" class="cell" data-execution_count="198">
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect</span>(<span class="fu">enumerate</span>(<span class="ch">'A'</span><span class="op">:</span><span class="ch">'F'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="184">
<pre><code>6-element Vector{Tuple{Int64, Char}}:
 (1, 'A')
 (2, 'B')
 (3, 'C')
 (4, 'D')
 (5, 'E')
 (6, 'F')</code></pre>
</div>
</div>
<div id="033ad3e7" class="cell" data-execution_count="199">
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a>[(i, val) for (i, val) <span class="kw">in</span> <span class="fu">enumerate</span>(<span class="ch">'A'</span><span class="op">:</span><span class="ch">'F'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="185">
<pre><code>6-element Vector{Tuple{Int64, Char}}:
 (1, 'A')
 (2, 'B')
 (3, 'C')
 (4, 'D')
 (5, 'E')
 (6, 'F')</code></pre>
</div>
</div>
</section>
<section id="creating-an-enum-type-with-enum-macro" class="level4" data-number="2.9.9">
<h4 data-number="2.9.9" class="anchored" data-anchor-id="creating-an-enum-type-with-enum-macro"><span class="header-section-number">2.9.9</span> Creating an <code>enum</code> type with <code>@enum</code> macro</h4>
<div id="67a8169e" class="cell" data-execution_count="200">
<div class="sourceCode cell-code" id="cb379"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@enum</span> Fruit apple peach pear banana orange</span>
<span id="cb379-2"><a href="#cb379-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-3"><a href="#cb379-3" aria-hidden="true" tabindex="-1"></a>Fruit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="186">
<pre><code>Enum Fruit:
apple = 0
peach = 1
pear = 2
banana = 3
orange = 4</code></pre>
</div>
</div>
<div id="9fa67fb2" class="cell" data-execution_count="201">
<div class="sourceCode cell-code" id="cb381"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Fruit</span>(<span class="fl">0</span>), <span class="fu">Fruit</span>(<span class="fl">3</span>)  <span class="co"># Access by index</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="187">
<pre><code>(apple, banana)</code></pre>
</div>
</div>
<div id="147f87dd" class="cell" data-execution_count="202">
<div class="sourceCode cell-code" id="cb383"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">instances</span>(Fruit)  <span class="co"># Return all possible values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>(apple, peach, pear, banana, orange)</code></pre>
</div>
</div>
</section>
<section id="understanding-julia-collections" class="level4" data-number="2.9.10">
<h4 data-number="2.9.10" class="anchored" data-anchor-id="understanding-julia-collections"><span class="header-section-number">2.9.10</span> Understanding Julia collections</h4>
<p>Two key questions:</p>
<ol type="1">
<li><p>What makes something a collection?</p></li>
<li><p>What are the differences and similarities between different collection types?</p></li>
</ol>
<section id="what-makes-something-a-collection" class="level5" data-number="2.9.10.1">
<h5 data-number="2.9.10.1" class="anchored" data-anchor-id="what-makes-something-a-collection"><span class="header-section-number">2.9.10.1</span> What makes something a collection</h5>
<p>At a minimum, you are expected to extend the <code>iterate()</code> function for your data type with the following methods to make your data type a collection:</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>iterate(iter)</code></td>
<td>Return the first item and the next state (e.g.&nbsp;the index of the next item)</td>
</tr>
<tr class="even">
<td><code>iterate(iter, state)</code></td>
<td>Return the current item and the next state</td>
</tr>
</tbody>
</table>
<p>An index-based iteration example:</p>
<ol type="1">
<li>Define the <code>Cluster</code> type to be iterated:</li>
</ol>
<div id="23cb599d" class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the Engine type</span></span>
<span id="cb385-2"><a href="#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract type</span> Engine <span class="kw">end</span></span>
<span id="cb385-3"><a href="#cb385-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-4"><a href="#cb385-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define valid engine models</span></span>
<span id="cb385-5"><a href="#cb385-5" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Panda <span class="op">&lt;:</span><span class="dt"> Engine</span></span>
<span id="cb385-6"><a href="#cb385-6" aria-hidden="true" tabindex="-1"></a>    count<span class="op">::</span><span class="dt">Integer</span></span>
<span id="cb385-7"><a href="#cb385-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb385-8"><a href="#cb385-8" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Bear <span class="op">&lt;:</span><span class="dt"> Engine</span></span>
<span id="cb385-9"><a href="#cb385-9" aria-hidden="true" tabindex="-1"></a>    count<span class="op">::</span><span class="dt">Integer</span></span>
<span id="cb385-10"><a href="#cb385-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb385-11"><a href="#cb385-11" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Dog <span class="op">&lt;:</span><span class="dt"> Engine</span></span>
<span id="cb385-12"><a href="#cb385-12" aria-hidden="true" tabindex="-1"></a>    count<span class="op">::</span><span class="dt">Integer</span></span>
<span id="cb385-13"><a href="#cb385-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb385-14"><a href="#cb385-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-15"><a href="#cb385-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the Cluster type, which can consist of many engine models</span></span>
<span id="cb385-16"><a href="#cb385-16" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Cluster <span class="op">&lt;:</span><span class="dt"> Engine</span></span>
<span id="cb385-17"><a href="#cb385-17" aria-hidden="true" tabindex="-1"></a>    engines<span class="op">::</span><span class="dt">Vector{Engine}  </span><span class="co"># A vector with elements of Engine type</span></span>
<span id="cb385-18"><a href="#cb385-18" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="68aec4d3" class="cell" data-execution_count="204">
<div class="sourceCode cell-code" id="cb386"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb386-1"><a href="#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="fu">engine_type</span>(<span class="op">::</span><span class="dt">Panda</span>) <span class="op">=</span> <span class="st">"Panda"</span></span>
<span id="cb386-2"><a href="#cb386-2" aria-hidden="true" tabindex="-1"></a><span class="fu">engine_type</span>(<span class="op">::</span><span class="dt">Bear</span>) <span class="op">=</span> <span class="st">"Bear"</span></span>
<span id="cb386-3"><a href="#cb386-3" aria-hidden="true" tabindex="-1"></a><span class="fu">engine_type</span>(<span class="op">::</span><span class="dt">Dog</span>) <span class="op">=</span> <span class="st">"Dog"</span></span>
<span id="cb386-4"><a href="#cb386-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-5"><a href="#cb386-5" aria-hidden="true" tabindex="-1"></a><span class="fu">engine_count</span>(engine<span class="op">::</span><span class="dt">Union{Panda, Bear, Dog}</span>) <span class="op">=</span> engine.count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<pre><code>engine_count (generic function with 1 method)</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Extend the <code>iterate()</code> function:</li>
</ol>
<div id="a0306c37" class="cell" data-execution_count="205">
<div class="sourceCode cell-code" id="cb388"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb388-1"><a href="#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: iterate</span>
<span id="cb388-2"><a href="#cb388-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-3"><a href="#cb388-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Start the iteration</span></span>
<span id="cb388-4"><a href="#cb388-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">iterate</span>(cluster<span class="op">::</span><span class="dt">Cluster</span>)</span>
<span id="cb388-5"><a href="#cb388-5" aria-hidden="true" tabindex="-1"></a>    cluster.engines[<span class="fl">1</span>], <span class="fl">2</span>  <span class="co"># Return the first element and the index of the next element</span></span>
<span id="cb388-6"><a href="#cb388-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb388-7"><a href="#cb388-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-8"><a href="#cb388-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the next element</span></span>
<span id="cb388-9"><a href="#cb388-9" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">iterate</span>(cluster<span class="op">::</span><span class="dt">Cluster</span>, i<span class="op">::</span><span class="dt">Integer</span>)</span>
<span id="cb388-10"><a href="#cb388-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&gt;</span> <span class="fu">length</span>(cluster.engines)</span>
<span id="cb388-11"><a href="#cb388-11" aria-hidden="true" tabindex="-1"></a>        <span class="cn">nothing</span>  <span class="co"># Return nothing to indicate you reached the end</span></span>
<span id="cb388-12"><a href="#cb388-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb388-13"><a href="#cb388-13" aria-hidden="true" tabindex="-1"></a>        cluster.engines[i], i<span class="op">+</span><span class="fl">1</span>  <span class="co"># Don't forget to return the index of the next element</span></span>
<span id="cb388-14"><a href="#cb388-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb388-15"><a href="#cb388-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="191">
<pre><code>iterate (generic function with 564 methods)</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Iterate the <code>Cluster</code> instance:</li>
</ol>
<div id="d5294a02" class="cell" data-execution_count="206">
<div class="sourceCode cell-code" id="cb390"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb390-1"><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a>cluster <span class="op">=</span> <span class="fu">Cluster</span>([<span class="fu">Panda</span>(<span class="fl">1</span>), <span class="fu">Bear</span>(<span class="fl">5</span>), <span class="fu">Dog</span>(<span class="fl">10</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="192">
<pre><code>Cluster(Engine[Panda(1), Bear(5), Dog(10)])</code></pre>
</div>
</div>
<div id="519f3853" class="cell" data-execution_count="207">
<div class="sourceCode cell-code" id="cb392"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb392-1"><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> engine <span class="kw">in</span> cluster</span>
<span id="cb392-2"><a href="#cb392-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(<span class="fu">engine_type</span>(engine), <span class="st">": "</span>, <span class="fu">engine_count</span>(engine))</span>
<span id="cb392-3"><a href="#cb392-3" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Panda: 1
Bear: 5
Dog: 10</code></pre>
</div>
</div>
<p>Internally, the Julia JIT compiler will convert this <code>for</code> loop into a lower-level <code>while</code> loop, which looks like the following code:</p>
<div id="7590b040" class="cell" data-execution_count="208">
<div class="sourceCode cell-code" id="cb394"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb394-1"><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a>next <span class="op">=</span> <span class="fu">iterate</span>(cluster)  <span class="co"># Begin iteration</span></span>
<span id="cb394-2"><a href="#cb394-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> next <span class="op">!=</span> <span class="cn">nothing</span>  <span class="co"># Check if you reached the end of the iteration</span></span>
<span id="cb394-3"><a href="#cb394-3" aria-hidden="true" tabindex="-1"></a>    (engine, i) <span class="op">=</span> next</span>
<span id="cb394-4"><a href="#cb394-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(<span class="fu">engine_type</span>(engine), <span class="st">": "</span>, <span class="fu">engine_count</span>(engine))</span>
<span id="cb394-5"><a href="#cb394-5" aria-hidden="true" tabindex="-1"></a>    next <span class="op">=</span> <span class="fu">iterate</span>(cluster, i)  <span class="co"># Advance to the next element</span></span>
<span id="cb394-6"><a href="#cb394-6" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Panda: 1
Bear: 5
Dog: 10</code></pre>
</div>
</div>
<p>A linked list example:</p>
<div id="6064f50e" class="cell" data-execution_count="209">
<div class="sourceCode cell-code" id="cb396"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb396-1"><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: iterate</span>
<span id="cb396-2"><a href="#cb396-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb396-3"><a href="#cb396-3" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> MyLinkedList</span>
<span id="cb396-4"><a href="#cb396-4" aria-hidden="true" tabindex="-1"></a>    id<span class="op">::</span><span class="dt">Int</span></span>
<span id="cb396-5"><a href="#cb396-5" aria-hidden="true" tabindex="-1"></a>    name<span class="op">::</span><span class="dt">String</span></span>
<span id="cb396-6"><a href="#cb396-6" aria-hidden="true" tabindex="-1"></a>    next<span class="op">::</span><span class="dt">Union{MyLinkedList, Nothing}</span></span>
<span id="cb396-7"><a href="#cb396-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb396-8"><a href="#cb396-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb396-9"><a href="#cb396-9" aria-hidden="true" tabindex="-1"></a><span class="co"># First, Julia uses the instance of MyLinkedList as the unique argument to retrieve the first element and the flag of the next element</span></span>
<span id="cb396-10"><a href="#cb396-10" aria-hidden="true" tabindex="-1"></a><span class="fu">iterate</span>(first<span class="op">::</span><span class="dt">MyLinkedList</span>) <span class="op">=</span> ((first.id, first.name), first.next)  <span class="co"># The first value is what you want to retrieve; the second value is used to tell where the next element is</span></span>
<span id="cb396-11"><a href="#cb396-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Then, Julia uses the instance of MyLinkedList and the flag of the next element, returned by the previous one to retrieve the next element and the flag of the next element, in contrast with the current one</span></span>
<span id="cb396-12"><a href="#cb396-12" aria-hidden="true" tabindex="-1"></a><span class="fu">iterate</span>(prev<span class="op">::</span><span class="dt">MyLinkedList</span>, current<span class="op">::</span><span class="dt">MyLinkedList</span>) <span class="op">=</span> ((current.id, current.name), current.next)</span>
<span id="cb396-13"><a href="#cb396-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Finally, iteration-supported function needs a nothing to indicate that the iteration is done</span></span>
<span id="cb396-14"><a href="#cb396-14" aria-hidden="true" tabindex="-1"></a><span class="fu">iterate</span>(<span class="op">::</span><span class="dt">MyLinkedList</span>, <span class="op">::</span><span class="dt">Nothing</span>) <span class="op">=</span> <span class="cn">nothing</span>  <span class="co"># Return nothing if the iteration is done</span></span>
<span id="cb396-15"><a href="#cb396-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb396-16"><a href="#cb396-16" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fu">MyLinkedList</span>(<span class="fl">1</span>, <span class="st">"1st"</span>, <span class="fu">MyLinkedList</span>(<span class="fl">2</span>, <span class="st">"2nd"</span>, <span class="fu">MyLinkedList</span>(<span class="fl">3</span>, <span class="st">"3rd"</span>, <span class="cn">nothing</span>)))</span>
<span id="cb396-17"><a href="#cb396-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb396-18"><a href="#cb396-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (id, name) <span class="kw">in</span> x  <span class="co"># The parentheses are essential</span></span>
<span id="cb396-19"><a href="#cb396-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(id, <span class="st">": "</span>, name)</span>
<span id="cb396-20"><a href="#cb396-20" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1: 1st
2: 2nd
3: 3rd</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>For multiple assignment, parentheses are mandatory in <code>for</code> loop; otherwise it’s trivial.</p>
</div>
</div>
<p>A similar <code>while</code> counterpart of <code>for</code>:</p>
<div id="fe7f47f0" class="cell" data-execution_count="210">
<div class="sourceCode cell-code" id="cb398"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb398-1"><a href="#cb398-1" aria-hidden="true" tabindex="-1"></a>next <span class="op">=</span> <span class="fu">iterate</span>(x)</span>
<span id="cb398-2"><a href="#cb398-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> next <span class="op">!=</span> <span class="cn">nothing</span></span>
<span id="cb398-3"><a href="#cb398-3" aria-hidden="true" tabindex="-1"></a>    current, next <span class="op">=</span> next</span>
<span id="cb398-4"><a href="#cb398-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(current[<span class="fl">1</span>], <span class="st">": "</span>, current[<span class="fl">2</span>])</span>
<span id="cb398-5"><a href="#cb398-5" aria-hidden="true" tabindex="-1"></a>    next <span class="op">=</span> <span class="fu">iterate</span>(x, next)</span>
<span id="cb398-6"><a href="#cb398-6" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1: 1st
2: 2nd
3: 3rd</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Adding support for <code>map()</code> and <code>collect()</code></li>
</ol>
<p>If you run <code>collect()</code> on x, you will get the following error:</p>
<div id="ae160267" class="cell" data-execution_count="211">
<div class="sourceCode cell-code" id="cb400"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb400-1"><a href="#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: no method matching length(::MyLinkedList)

Closest candidates are:
  length(<span class="ansi-bright-red-fg">::Union{Base.KeySet, Base.ValueIterator}</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-bright-black-fg">Base</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">abstractdict.jl:58</span>
  length(<span class="ansi-bright-red-fg">::Union{SparseArrays.FixedSparseVector{Tv, Ti}, SparseArrays.SparseVector{Tv, Ti}} where {Tv, Ti}</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-yellow-fg">SparseArrays</span> <span class="ansi-bright-black-fg">D:\Julia-1.9.4\share\julia\stdlib\v1.9\SparseArrays\src\</span><span style="text-decoration:underline" class="ansi-bright-black-fg">sparsevector.jl:95</span>
  length(<span class="ansi-bright-red-fg">::Union{ZMQ._Message, Base.RefValue{ZMQ._Message}}</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">ZMQ</span> <span class="ansi-bright-black-fg">C:\Users\brain\.julia\packages\ZMQ\lrABE\src\</span><span style="text-decoration:underline" class="ansi-bright-black-fg">_message.jl:31</span>
  ...
</pre>
</div>
</div>
</div>
<p>Of course, you can simply define a <code>length()</code> method for <code>MyLinkedList</code> type like the following:</p>
<div id="65b53289" class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb401"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb401-1"><a href="#cb401-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: length</span>
<span id="cb401-2"><a href="#cb401-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb401-3"><a href="#cb401-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="op">::</span><span class="dt">Nothing</span>) <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb401-4"><a href="#cb401-4" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x<span class="op">::</span><span class="dt">MyLinkedList</span>) <span class="op">=</span> <span class="fl">1</span> <span class="op">+</span> <span class="fu">length</span>(x.next)</span>
<span id="cb401-5"><a href="#cb401-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb401-6"><a href="#cb401-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="198">
<pre><code>3</code></pre>
</div>
</div>
<p>However, the time it takes to calculate the length of <code>MyLinkedList</code> is proportional to its length. Such algorithms are referred to as <strong>linear</strong> or <span class="math inline">\(O(n)\)</span> in big-O notation.</p>
<p>Instead, we will implement an <code>IteratorSize()</code> method:</p>
<div id="d7fef7de" class="cell" data-execution_count="213">
<div class="sourceCode cell-code" id="cb403"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb403-1"><a href="#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Base</span>: IteratorSize</span>
<span id="cb403-2"><a href="#cb403-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb403-3"><a href="#cb403-3" aria-hidden="true" tabindex="-1"></a><span class="fu">IteratorSize</span>(<span class="op">::</span><span class="dt">Type{MyLinkedList}</span>) <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">SizeUnknown</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="199">
<pre><code>IteratorSize</code></pre>
</div>
</div>
<p>By default, <code>IteratorSize()</code> is defined like the following:</p>
<div id="54d6fca0" class="cell" data-execution_count="214">
<div class="sourceCode cell-code" id="cb405"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb405-1"><a href="#cb405-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IteratorSize</span>(x) <span class="op">=</span> <span class="fu">IteratorSize</span>(<span class="fu">typeof</span>(x))</span>
<span id="cb405-2"><a href="#cb405-2" aria-hidden="true" tabindex="-1"></a><span class="fu">IteratorSize</span>(<span class="op">::</span><span class="dt">Type</span>) <span class="op">=</span> <span class="fu">HasLength</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Here, <code>IteratorSize()</code> is a <strong>trait</strong> of Julia collections. It is used to indicate whether a collection has a known length.</p>
<p><strong>In Julia, traits are defined as abstract types. The values a trait can have are determined by a concrete subtype.</strong></p>
<p>For example, the trait <code>IteratorSize()</code> has subtypes <code>SizeUnknown()</code>, <code>HasLength()</code>, and so on.</p>
<p>If the <code>IteratorSize()</code> trait is defined as <code>HasLength()</code>, then Julia will call <code>length()</code> to determine the size of the result array produced from <code>collect()</code>. Instead, when you define this trait as <code>SizeUnknown()</code>, Julia will use an empty array for output that grows as needed.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<div id="1f2351be" class="cell" data-execution_count="215">
<div class="sourceCode cell-code" id="cb406"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb406-1"><a href="#cb406-1" aria-hidden="true" tabindex="-1"></a><span class="fu">foo</span>(<span class="op">::</span><span class="dt">Type{Integer}</span>) <span class="op">=</span> <span class="ch">'A'</span>  <span class="co"># Only accepting the type Integer as a valid argument</span></span>
<span id="cb406-2"><a href="#cb406-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb406-3"><a href="#cb406-3" aria-hidden="true" tabindex="-1"></a><span class="fu">foo</span>(<span class="dt">Integer</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="200">
<pre><code>'A': ASCII/Unicode U+0041 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<div id="ea65a4e3" class="cell" data-execution_count="216">
<div class="sourceCode cell-code" id="cb408"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb408-1"><a href="#cb408-1" aria-hidden="true" tabindex="-1"></a><span class="fu">foo</span>(<span class="dt">Int64</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: no method matching foo(::Type{Int64})

Closest candidates are:
  foo(<span class="ansi-bright-red-fg">::Type{Integer}</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">Main</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">In[200]:1</span>
  foo(<span class="ansi-bright-red-fg">::Int64</span>)
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">Main</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">In[23]:1</span>
</pre>
</div>
</div>
</div>
<div id="91b2b677" class="cell" data-execution_count="217">
<div class="sourceCode cell-code" id="cb409"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb409-1"><a href="#cb409-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fb</span>(<span class="op">::</span><span class="dt">Type{&lt;:Integer}</span>) <span class="op">=</span> <span class="ch">'B'</span>  <span class="co"># Integer as well as its all subtypes are valid arguments</span></span>
<span id="cb409-2"><a href="#cb409-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-3"><a href="#cb409-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fb</span>(<span class="dt">Integer</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="202">
<pre><code>'B': ASCII/Unicode U+0042 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<div id="4140a6a9" class="cell" data-execution_count="218">
<div class="sourceCode cell-code" id="cb411"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb411-1"><a href="#cb411-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fb</span>(<span class="dt">Int64</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="203">
<pre><code>'B': ASCII/Unicode U+0042 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
</div>
</div>
<ol start="5" type="1">
<li>Adding more interfaces to your data type</li>
</ol>
<p>To make your data type more versatile, you may add more interfaces to your data type.</p>
<p>For example, as a collection, your data type should support getting, setting, adding, and removing elements, which are achieved by the following methods:</p>
<ul>
<li><p><code>getindex()</code>: this makes it possible to access elements with <code>[]</code>.</p></li>
<li><p><code>setindex!()</code>: this makes it possible to set elements with <code>[]</code>.</p></li>
<li><p><code>push!()</code>: adding elements to the back of a collection.</p></li>
<li><p><code>pushfirst!()</code>: adding elements to the front of a collection.</p></li>
<li><p><code>pop!()</code>: removing the last element.</p></li>
<li><p><code>popfirst!()</code>: removing the first element.</p></li>
</ul>
<p>In a word, some interfaces to a collection are achieved by implicitly calling some methods by Julia itself (e.g.&nbsp;looping a collection); some other interfaces to a collection are achieved by explicitly calling some methods by users (e.g.&nbsp;adding elements).</p>
</section>
</section>
</section>
<section id="functional-programming" class="level3" data-number="2.10">
<h3 data-number="2.10" class="anchored" data-anchor-id="functional-programming"><span class="header-section-number">2.10</span> Functional programming</h3>
<section id="higher-order-functions" class="level4" data-number="2.10.1">
<h4 data-number="2.10.1" class="anchored" data-anchor-id="higher-order-functions"><span class="header-section-number">2.10.1</span> Higher order functions</h4>
<p>These are funtions that take other functions as arguments and/or return functions.</p>
<ol type="1">
<li><code>map(f, iterable)</code>: apply <code>f</code> to each element of <code>iterable</code>.</li>
</ol>
<div id="1a4f7a28" class="cell" data-execution_count="219">
<div class="sourceCode cell-code" id="cb413"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(uppercase, <span class="ch">'a'</span><span class="op">:</span><span class="ch">'z'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="204">
<pre><code>26-element Vector{Char}:
 'A': ASCII/Unicode U+0041 (category Lu: Letter, uppercase)
 'B': ASCII/Unicode U+0042 (category Lu: Letter, uppercase)
 'C': ASCII/Unicode U+0043 (category Lu: Letter, uppercase)
 'D': ASCII/Unicode U+0044 (category Lu: Letter, uppercase)
 'E': ASCII/Unicode U+0045 (category Lu: Letter, uppercase)
 'F': ASCII/Unicode U+0046 (category Lu: Letter, uppercase)
 'G': ASCII/Unicode U+0047 (category Lu: Letter, uppercase)
 'H': ASCII/Unicode U+0048 (category Lu: Letter, uppercase)
 'I': ASCII/Unicode U+0049 (category Lu: Letter, uppercase)
 'J': ASCII/Unicode U+004A (category Lu: Letter, uppercase)
 'K': ASCII/Unicode U+004B (category Lu: Letter, uppercase)
 'L': ASCII/Unicode U+004C (category Lu: Letter, uppercase)
 'M': ASCII/Unicode U+004D (category Lu: Letter, uppercase)
 'N': ASCII/Unicode U+004E (category Lu: Letter, uppercase)
 'O': ASCII/Unicode U+004F (category Lu: Letter, uppercase)
 'P': ASCII/Unicode U+0050 (category Lu: Letter, uppercase)
 'Q': ASCII/Unicode U+0051 (category Lu: Letter, uppercase)
 'R': ASCII/Unicode U+0052 (category Lu: Letter, uppercase)
 'S': ASCII/Unicode U+0053 (category Lu: Letter, uppercase)
 'T': ASCII/Unicode U+0054 (category Lu: Letter, uppercase)
 'U': ASCII/Unicode U+0055 (category Lu: Letter, uppercase)
 'V': ASCII/Unicode U+0056 (category Lu: Letter, uppercase)
 'W': ASCII/Unicode U+0057 (category Lu: Letter, uppercase)
 'X': ASCII/Unicode U+0058 (category Lu: Letter, uppercase)
 'Y': ASCII/Unicode U+0059 (category Lu: Letter, uppercase)
 'Z': ASCII/Unicode U+005A (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><code>reduce(f, iterable)</code>: apply <code>f</code> to the element of <code>iterable</code> in an iterable way.</li>
</ol>
<div id="ea97b28d" class="cell" data-execution_count="220">
<div class="sourceCode cell-code" id="cb415"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb415-1"><a href="#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reduce</span>(<span class="op">+</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="205">
<pre><code>5050</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><code>filter(predicate, iterable)</code>: return a subset of <code>iterable</code> based on <code>predicate</code>.</li>
</ol>
<p>Note: a <code>predicate</code> is a function that takes an element of <code>iterable</code> and always returns a Boolean value.</p>
<div id="8c89233c" class="cell" data-execution_count="221">
<div class="sourceCode cell-code" id="cb417"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb417-1"><a href="#cb417-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(isuppercase, [<span class="ch">'A'</span>, <span class="ch">'b'</span>, <span class="ch">'C'</span>, <span class="ch">'d'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="206">
<pre><code>2-element Vector{Char}:
 'A': ASCII/Unicode U+0041 (category Lu: Letter, uppercase)
 'C': ASCII/Unicode U+0043 (category Lu: Letter, uppercase)</code></pre>
</div>
</div>
</section>
</section>
<section id="io" class="level3" data-number="2.11">
<h3 data-number="2.11" class="anchored" data-anchor-id="io"><span class="header-section-number">2.11</span> I/O</h3>
<section id="julias-io-system" class="level4" data-number="2.11.1">
<h4 data-number="2.11.1" class="anchored" data-anchor-id="julias-io-system"><span class="header-section-number">2.11.1</span> Julia’s I/O system</h4>
<p>The Julia’s I/O system is centered on the abstract type <code>IO</code>, which has concrete types, such as <code>IOStream</code>, <code>IOBuffer</code>, <code>Process</code> and <code>TCPSocket</code>. Each type allows you to read and write data from different I/O devices, such as files, text buffers, running processes, or network connections.</p>
<p>Some functions such as <code>print</code>, <code>read</code>, <code>write</code>, etc. are available for all I/O types, but some others are I/O type-specific.</p>
</section>
<section id="text-io" class="level4" data-number="2.11.2">
<h4 data-number="2.11.2" class="anchored" data-anchor-id="text-io"><span class="header-section-number">2.11.2</span> Text I/O</h4>
<section id="print-text" class="level5" data-number="2.11.2.1">
<h5 data-number="2.11.2.1" class="anchored" data-anchor-id="print-text"><span class="header-section-number">2.11.2.1</span> Print text</h5>
<ol type="1">
<li><code>print()</code>: print text without a newline character.</li>
</ol>
<div id="7c3d5783" class="cell" data-execution_count="222">
<div class="sourceCode cell-code" id="cb419"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb419-1"><a href="#cb419-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"hello"</span>); <span class="fu">print</span>(<span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>helloworld</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><code>println()</code>: print text with a newline character added to the end.</li>
</ol>
<div id="a08d1404" class="cell" data-execution_count="223">
<div class="sourceCode cell-code" id="cb421"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb421-1"><a href="#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"hello"</span>); <span class="fu">println</span>(<span class="st">"world"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hello
world</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><code>printstyled()</code>: print text with rich styles.</li>
</ol>
<div id="59ff8446" class="cell" data-execution_count="224">
<div class="sourceCode cell-code" id="cb423"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb423-1"><a href="#cb423-1" aria-hidden="true" tabindex="-1"></a><span class="fu">printstyled</span>(<span class="st">"hello world"</span>, color <span class="op">=</span> <span class="op">:</span>magenta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hello world</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>All colors are given as <code>Symbol</code> objects which is quite similar to a string starting with <code>:</code> (e.g.&nbsp;<code>:hello</code>).</p>
<p><code>Symbol</code> is the type of object used to represent identifiers in parsed Julia code.</p>
<div id="c1983f1e" class="cell" data-execution_count="225">
<div class="sourceCode cell-code" id="cb425"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb425-1"><a href="#cb425-1" aria-hidden="true" tabindex="-1"></a>sym <span class="op">=</span> <span class="fu">Symbol</span>(<span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="210">
<pre><code>:hello</code></pre>
</div>
</div>
<div id="0679cc49" class="cell" data-execution_count="226">
<div class="sourceCode cell-code" id="cb427"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a>sym <span class="op">==</span> <span class="op">:</span>hello</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="211">
<pre><code>true</code></pre>
</div>
</div>
<div id="1bfc158d" class="cell" data-execution_count="227">
<div class="sourceCode cell-code" id="cb429"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb429-1"><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb429-2"><a href="#cb429-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-3"><a href="#cb429-3" aria-hidden="true" tabindex="-1"></a><span class="fu">eval</span>(<span class="st">"x"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="212">
<pre><code>"x"</code></pre>
</div>
</div>
<div id="933d8d04" class="cell" data-execution_count="228">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb431-1"><a href="#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eval</span>(<span class="fu">Symbol</span>(<span class="st">"x"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="213">
<pre><code>100</code></pre>
</div>
</div>
</div>
</div>
<ol start="4" type="1">
<li><code>show(x)</code>: write a text representation of a value <code>x</code> to the output stream <code>io</code>.</li>
</ol>
</section>
<section id="align-text" class="level5" data-number="2.11.2.2">
<h5 data-number="2.11.2.2" class="anchored" data-anchor-id="align-text"><span class="header-section-number">2.11.2.2</span> Align text</h5>
<ul>
<li><p><code>lpad()</code>: left-side padding with given string.</p></li>
<li><p><code>rpad()</code>: right-side padding with given string.</p></li>
</ul>
</section>
<section id="reading-and-writing-text" class="level5" data-number="2.11.2.3">
<h5 data-number="2.11.2.3" class="anchored" data-anchor-id="reading-and-writing-text"><span class="header-section-number">2.11.2.3</span> Reading and writing text</h5>
<p><code>open() --&gt; readline() --&gt; eof() --&gt; close()</code></p>
<p>We have a file named <code>test.csv</code> with the following content:</p>
<div id="307744d6" class="cell" data-execution_count="229">
<div class="sourceCode cell-code" id="cb433"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb433-1"><a href="#cb433-1" aria-hidden="true" tabindex="-1"></a><span class="co">#=</span></span>
<span id="cb433-2"><a href="#cb433-2" aria-hidden="true" tabindex="-1"></a><span class="co">name,size,price</span></span>
<span id="cb433-3"><a href="#cb433-3" aria-hidden="true" tabindex="-1"></a><span class="co">t-shirt,L,100</span></span>
<span id="cb433-4"><a href="#cb433-4" aria-hidden="true" tabindex="-1"></a><span class="co">sport shoe,M,1000</span></span>
<span id="cb433-5"><a href="#cb433-5" aria-hidden="true" tabindex="-1"></a><span class="co">coat,L,500</span></span>
<span id="cb433-6"><a href="#cb433-6" aria-hidden="true" tabindex="-1"></a><span class="co">=#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f9f4e672" class="cell" data-execution_count="230">
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb434-1"><a href="#cb434-1" aria-hidden="true" tabindex="-1"></a><span class="co"># open() --&gt; readline() --&gt; split() --&gt; parse() --&gt; eof() --&gt; close()</span></span>
<span id="cb434-2"><a href="#cb434-2" aria-hidden="true" tabindex="-1"></a>io <span class="op">=</span> <span class="fu">open</span>(<span class="st">"test.csv"</span>, <span class="st">"r"</span>)  <span class="co"># Open a file connection with open(file, mode)</span></span>
<span id="cb434-3"><a href="#cb434-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-4"><a href="#cb434-4" aria-hidden="true" tabindex="-1"></a>list <span class="op">=</span> <span class="dt">Any</span>[]</span>
<span id="cb434-5"><a href="#cb434-5" aria-hidden="true" tabindex="-1"></a><span class="fu">push!</span>(list, <span class="fu">split</span>(<span class="fu">readline</span>(io), <span class="st">","</span>))  <span class="co"># Read a line once using readline()</span></span>
<span id="cb434-6"><a href="#cb434-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-7"><a href="#cb434-7" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> !<span class="fu">eof</span>(io)  <span class="co"># Check whether you are in the end of a file with eof()</span></span>
<span id="cb434-8"><a href="#cb434-8" aria-hidden="true" tabindex="-1"></a>    ele <span class="op">=</span> <span class="fu">split</span>(<span class="fu">readline</span>(io), <span class="st">","</span>)  <span class="co"># Split a string based on another string using split()</span></span>
<span id="cb434-9"><a href="#cb434-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">push!</span>(list, [ele[<span class="fl">1</span>], ele[<span class="fl">2</span>], <span class="fu">parse</span>(<span class="dt">Int64</span>, ele[<span class="fl">3</span>])])  <span class="co"># Use parse() to convert a string to anything else</span></span>
<span id="cb434-10"><a href="#cb434-10" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb434-11"><a href="#cb434-11" aria-hidden="true" tabindex="-1"></a><span class="fu">close</span>(io)  <span class="co"># Close the file connection with close()</span></span>
<span id="cb434-12"><a href="#cb434-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-13"><a href="#cb434-13" aria-hidden="true" tabindex="-1"></a>list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="214">
<pre><code>4-element Vector{Any}:
 SubString{String}["name", "size", "price"]
 Any["t-shirt", "L", 100]
 Any["sport shoe", "M", 1000]
 Any["coat", "L", 500]</code></pre>
</div>
</div>
<p>You can write text into a file using <code>print()</code>, <code>println()</code>, or <code>printstyled()</code>, the 1st parameter of which is an <code>IO</code> object.</p>
<p>You can also read or write text from <code>stdin</code> or to <code>stdout</code>.</p>
</section>
</section>
</section>
<section id="parametric-types" class="level3" data-number="2.12">
<h3 data-number="2.12" class="anchored" data-anchor-id="parametric-types"><span class="header-section-number">2.12</span> Parametric types</h3>
<p>You can think of the expression <code>S=P{T}</code> as <strong>parametric type <code>P</code></strong> taking a <strong>type parameter <code>T</code></strong> and returning a new <strong>concrete type <code>S</code></strong>. Both <code>T</code> and <code>S</code> are concrete types, while <code>P</code> is just a template for making types.</p>
<section id="defining-parametric-methods" class="level4" data-number="2.12.1">
<h4 data-number="2.12.1" class="anchored" data-anchor-id="defining-parametric-methods"><span class="header-section-number">2.12.1</span> Defining parametric methods</h4>
<div id="b93c03f4" class="cell" data-execution_count="231">
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">linearsearch</span>(haystack<span class="op">::</span><span class="dt">AbstractVector{T}</span>, needle<span class="op">::</span><span class="dt">T</span>) <span class="kw">where</span> T</span>
<span id="cb436-2"><a href="#cb436-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i, x) <span class="kw">in</span> <span class="fu">enumerate</span>(haystack)</span>
<span id="cb436-3"><a href="#cb436-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> needle <span class="op">==</span> x</span>
<span id="cb436-4"><a href="#cb436-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> i</span>
<span id="cb436-5"><a href="#cb436-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb436-6"><a href="#cb436-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb436-7"><a href="#cb436-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb436-8"><a href="#cb436-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb436-9"><a href="#cb436-9" aria-hidden="true" tabindex="-1"></a><span class="fu">linearsearch</span>([<span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span>], <span class="fl">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="215">
<pre><code>3</code></pre>
</div>
</div>
<div id="d785cf7b" class="cell" data-execution_count="232">
<div class="sourceCode cell-code" id="cb438"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a><span class="fu">linearsearch</span>([<span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span>], <span class="st">"six"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre>MethodError: no method matching linearsearch(::Vector{Int64}, ::String)

Closest candidates are:
  linearsearch(::AbstractVector{T}, <span class="ansi-bright-red-fg">::T</span>) where T
<span class="ansi-bright-black-fg">   @</span> <span class="ansi-magenta-fg">Main</span> <span style="text-decoration:underline" class="ansi-bright-black-fg">In[215]:1</span>
</pre>
</div>
</div>
</div>
<p>In this example, the <code>linearsearch()</code> is a parametric method, which takes a type parameter <code>T</code>, defined in the <code>where T</code> clause. You can define more than one type parameter in the <code>where</code> clause (e.g.&nbsp;<code>where {T, S}</code>).</p>
</section>
<section id="defining-parametric-types" class="level4" data-number="2.12.2">
<h4 data-number="2.12.2" class="anchored" data-anchor-id="defining-parametric-types"><span class="header-section-number">2.12.2</span> Defining parametric types</h4>
<div id="d118f44a" class="cell" data-execution_count="233">
<div class="sourceCode cell-code" id="cb439"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb439-1"><a href="#cb439-1" aria-hidden="true" tabindex="-1"></a><span class="st">"A point at coordinate (x, y)"</span></span>
<span id="cb439-2"><a href="#cb439-2" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Point{T}</span>
<span id="cb439-3"><a href="#cb439-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">::</span><span class="dt">T</span></span>
<span id="cb439-4"><a href="#cb439-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">::</span><span class="dt">T</span></span>
<span id="cb439-5"><a href="#cb439-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="217">
<pre><code>Point</code></pre>
</div>
</div>
<p>You can impose constraints on the type parameter <code>T</code> with subtype operator <code>&lt;:</code>:</p>
<div id="2173f797" class="cell" data-execution_count="234">
<div class="sourceCode cell-code" id="cb441"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb441-1"><a href="#cb441-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> RPoint{T<span class="op">&lt;:</span><span class="dt">Number</span>}</span>
<span id="cb441-2"><a href="#cb441-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">::</span><span class="dt">T</span></span>
<span id="cb441-3"><a href="#cb441-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">::</span><span class="dt">T</span></span>
<span id="cb441-4"><a href="#cb441-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When creating a point with <code>Point</code>, you can let Julia to infer the type parameter from arguments or explicitly set the type parameter:</p>
<div id="8ec21025" class="cell" data-execution_count="235">
<div class="sourceCode cell-code" id="cb442"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb442-1"><a href="#cb442-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Point</span>(<span class="fl">1</span>, <span class="fl">2</span>), <span class="fu">Point</span><span class="dt">{Int}</span>(<span class="fl">3</span>, <span class="fl">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="219">
<pre><code>(Point{Int64}(1, 2), Point{Int64}(3, 4))</code></pre>
</div>
</div>
<p>In fact, <code>sum(xs::Vector)</code> is the same as <code>sum(xs::Vector{T}) where T</code>.</p>
<p>In summary, parametric types can improve the <strong>type safety</strong> (stricter type checking), <strong>performance</strong> (more type restrictions, less type-related jobs), and <strong>memory usage</strong> (more type restrictions, more precise assignment of memory).</p>
</section>
</section>
<section id="scope-of-variables" class="level3" data-number="2.13">
<h3 data-number="2.13" class="anchored" data-anchor-id="scope-of-variables"><span class="header-section-number">2.13</span> Scope of variables</h3>
<section id="introduction" class="level4" data-number="2.13.1">
<h4 data-number="2.13.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">2.13.1</span> Introduction</h4>
<p>The scope of a variable is the region of code within which a variable is accessible. Variable scoping helps avoid variable naming conflicts.</p>
<p>There are two main types of scopes in programming languages: <strong>lexical scope</strong> (also called static scope) and <strong>dynamic scope</strong>.</p>
<p>In languages with <strong>lexical scope</strong>, the name resolution depends on the location in the source code and the lexical context, where the named variable is defined. In contrast, in languages with <strong>dynamic scope</strong>, the name resolution depends on the program state and the runtime context when the name is encountered.</p>
<p>In a word, with <strong>lexical scope</strong> a name is resolved by searching the local lexical context, then if that fails, by searching the outer lexical context, and so on; with <strong>dynamic scope</strong>, a name is resolved by searching the local execution context, then if that fails, by searching the outer execution context, and so on, progressing up the call stack.</p>
<p>Julia uses lexical scope. Further, there are two main types of scopes in Julia, <strong>global scope</strong> and <strong>local scope</strong>. The latter can be nested.</p>
<p>In Julia, different constructs may introduce different types of scopes.</p>
</section>
<section id="scope-constructs" class="level4" data-number="2.13.2">
<h4 data-number="2.13.2" class="anchored" data-anchor-id="scope-constructs"><span class="header-section-number">2.13.2</span> Scope constructs</h4>
<p>The constructs introducing scopes are:</p>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Construct</th>
<th>Scope type</th>
<th>Allowed within</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>module, baremodule</td>
<td>global</td>
<td>global</td>
</tr>
<tr class="even">
<td>struct</td>
<td>soft local</td>
<td>global</td>
</tr>
<tr class="odd">
<td>for, while, try</td>
<td>soft local</td>
<td>global, local</td>
</tr>
<tr class="even">
<td>macro</td>
<td>hard local</td>
<td>global</td>
</tr>
<tr class="odd">
<td>functions, do blocks, let blocks, comprehensions, generators</td>
<td>hard local</td>
<td>global, local</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> <strong>begin blocks</strong> and <strong>if blocks</strong> do not introduce scopes.</p>
</section>
<section id="global-scope" class="level4" data-number="2.13.3">
<h4 data-number="2.13.3" class="anchored" data-anchor-id="global-scope"><span class="header-section-number">2.13.3</span> Global scope</h4>
<p>Each module introduces a global scope.</p>
<p>Modules can introduce variables of other modules into their scopes through the <code>using</code> or <code>import</code> statement, or through qualified access using the dot notation.</p>
<div id="d6041879" class="cell" data-execution_count="236">
<div class="sourceCode cell-code" id="cb444"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb444-1"><a href="#cb444-1" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> A</span>
<span id="cb444-2"><a href="#cb444-2" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="fl">1</span>  <span class="co"># a is a global variable in A's scope</span></span>
<span id="cb444-3"><a href="#cb444-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb444-4"><a href="#cb444-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-5"><a href="#cb444-5" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> B</span>
<span id="cb444-6"><a href="#cb444-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">module</span> C</span>
<span id="cb444-7"><a href="#cb444-7" aria-hidden="true" tabindex="-1"></a>        c <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb444-8"><a href="#cb444-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb444-9"><a href="#cb444-9" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> C.c  <span class="co"># can access the namespace of a nested global scope through a qualified access</span></span>
<span id="cb444-10"><a href="#cb444-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-11"><a href="#cb444-11" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> <span class="bu">..A</span>  <span class="co"># makes module A available</span></span>
<span id="cb444-12"><a href="#cb444-12" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> A.a</span>
<span id="cb444-13"><a href="#cb444-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If a top-level expression (e.g.&nbsp;a <code>begin</code> or <code>if</code> block) contains a variable declared with keyword <code>local</code>, then that variable is not accessible outside that expression.</p>
<div id="eee2ba53" class="cell" data-execution_count="237">
<div class="sourceCode cell-code" id="cb445"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb445-1"><a href="#cb445-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">1</span></span>
<span id="cb445-2"><a href="#cb445-2" aria-hidden="true" tabindex="-1"></a><span class="cf">begin</span></span>
<span id="cb445-3"><a href="#cb445-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> x <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb445-4"><a href="#cb445-4" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@show</span> x</span>
<span id="cb445-5"><a href="#cb445-5" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb445-6"><a href="#cb445-6" aria-hidden="true" tabindex="-1"></a><span class="pp">@show</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x = 0
x = 1</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="220">
<pre><code>1</code></pre>
</div>
</div>
<p><strong>Note:</strong> the REPL is in the global scope of the module <code>Main</code>.</p>
</section>
<section id="local-scope" class="level4" data-number="2.13.4">
<h4 data-number="2.13.4" class="anchored" data-anchor-id="local-scope"><span class="header-section-number">2.13.4</span> Local scope</h4>
<p>A local scope nested inside another local/global scope can see variables in all the outer scopes in which it is contained. Outer scopes, on the other hand, cannot see variables in inner scopes.</p>
<p>When <code>x = &lt;value&gt;</code> occurs in a local scope, Julia will apply the following rules to decide what the expression means:</p>
<ol type="1">
<li><p><strong>Existing local</strong>: if <code>x</code> is already a local variable, then the existing local <code>x</code> is assigned.</p></li>
<li><p><strong>Hard scope</strong>: if x is not already a local variable and this assignment occurs inside of any hard scope construct, then a new local variable named <code>x</code> is created in the scope of the assignment.</p></li>
<li><p><strong>Soft scope</strong>: if x is not already a local variable and all of the scope constructs containing the assignment are soft scopes, the behavior depends on whether the global variable <code>x</code> is defined:</p>
<ul>
<li><p>If global <code>x</code> is undefined, a new local variable named <code>x</code> is created in the scope of the assignment;</p></li>
<li><p>If global <code>x</code> is defined, then the following rules are applied:</p>
<ul>
<li><p>In interactive mode, the global variable <code>x</code> is assigned;</p></li>
<li><p>In non-interactive mode, an ambiguity warning is printed and a new local variable named <code>x</code> is created in the scope of the assignment.</p></li>
</ul></li>
</ul></li>
</ol>
<p>Therefore, in non-interactive mode, the soft scope and hard scope behaves identically except that a warning is printed when an implicitly local variable shadows a global variable in the soft scope.</p>
<p><strong>Note:</strong> in Julia, a variable cannot be a non-local variable, meaning that it is either a local variable or a global variable, <strong>which is determined regardless of the order of expressions</strong>. As a consequence, if you assign to an existing local, it always updates that existing local; therefore, you can only shadow a local by explicitly declaring a new local in a nested scope with the <code>local</code> keyword.</p>
<div id="7f7cbca2" class="cell" data-execution_count="238">
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb448-1"><a href="#cb448-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">outer_foo</span>()</span>
<span id="cb448-2"><a href="#cb448-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">99</span>  <span class="co"># x is a local variable in the outer_foo's scope</span></span>
<span id="cb448-3"><a href="#cb448-3" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@show</span> x</span>
<span id="cb448-4"><a href="#cb448-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span></span>
<span id="cb448-5"><a href="#cb448-5" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="fl">100</span>  <span class="co"># updates the local variable x defined in the outer_foo's scope</span></span>
<span id="cb448-6"><a href="#cb448-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb448-7"><a href="#cb448-7" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@show</span> x</span>
<span id="cb448-8"><a href="#cb448-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">nothing</span></span>
<span id="cb448-9"><a href="#cb448-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="221">
<pre><code>outer_foo (generic function with 1 method)</code></pre>
</div>
</div>
<div id="79a7a5b3" class="cell" data-execution_count="239">
<div class="sourceCode cell-code" id="cb450"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb450-1"><a href="#cb450-1" aria-hidden="true" tabindex="-1"></a>code <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb450-2"><a href="#cb450-2" aria-hidden="true" tabindex="-1"></a><span class="st">s = 0 # global</span></span>
<span id="cb450-3"><a href="#cb450-3" aria-hidden="true" tabindex="-1"></a><span class="st">for i = 1:10</span></span>
<span id="cb450-4"><a href="#cb450-4" aria-hidden="true" tabindex="-1"></a><span class="st">    t = s + i # new local t</span></span>
<span id="cb450-5"><a href="#cb450-5" aria-hidden="true" tabindex="-1"></a><span class="st">    s = t # new local s with warning</span></span>
<span id="cb450-6"><a href="#cb450-6" aria-hidden="true" tabindex="-1"></a><span class="st">end</span></span>
<span id="cb450-7"><a href="#cb450-7" aria-hidden="true" tabindex="-1"></a><span class="st">s, # global; should be 0</span></span>
<span id="cb450-8"><a href="#cb450-8" aria-hidden="true" tabindex="-1"></a><span class="st">@isdefined(t) # global; should be false</span></span>
<span id="cb450-9"><a href="#cb450-9" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span>;</span>
<span id="cb450-10"><a href="#cb450-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb450-11"><a href="#cb450-11" aria-hidden="true" tabindex="-1"></a><span class="fu">include_string</span>(<span class="bu">Main</span>, code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>┌ Warning: Assignment to `t` in soft scope is ambiguous because a global variable by the same name exists: `t` will be treated as a new local. Disambiguate by using `local t` to suppress this warning or `global t` to assign to the existing global variable.
└ @ string:3
┌ Warning: Assignment to `s` in soft scope is ambiguous because a global variable by the same name exists: `s` will be treated as a new local. Disambiguate by using `local s` to suppress this warning or `global s` to assign to the existing global variable.
└ @ string:4</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: LoadError: UndefVarError: `s` not defined
in expression starting at string:2</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>So don’t forget to use the <code>global</code> keyword to declare a variable <code>x</code> if you want to use a global <code>x</code> instead of a local <code>x</code> in seeing a <code>for</code> loop in non-interactive mode:</p>
<div id="c80a4920" class="cell" data-execution_count="240">
<div class="sourceCode cell-code" id="cb453"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb453-1"><a href="#cb453-1" aria-hidden="true" tabindex="-1"></a>code <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb453-2"><a href="#cb453-2" aria-hidden="true" tabindex="-1"></a><span class="st">s = 0</span></span>
<span id="cb453-3"><a href="#cb453-3" aria-hidden="true" tabindex="-1"></a><span class="st">for i in 1:100</span></span>
<span id="cb453-4"><a href="#cb453-4" aria-hidden="true" tabindex="-1"></a><span class="st">    global s = s + i</span></span>
<span id="cb453-5"><a href="#cb453-5" aria-hidden="true" tabindex="-1"></a><span class="st">end</span></span>
<span id="cb453-6"><a href="#cb453-6" aria-hidden="true" tabindex="-1"></a><span class="st">@show s</span></span>
<span id="cb453-7"><a href="#cb453-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb453-8"><a href="#cb453-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb453-9"><a href="#cb453-9" aria-hidden="true" tabindex="-1"></a><span class="fu">include_string</span>(<span class="bu">Main</span>, code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>s = 5050</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="223">
<pre><code>5050</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="let-blocks" class="level4" data-number="2.13.5">
<h4 data-number="2.13.5" class="anchored" data-anchor-id="let-blocks"><span class="header-section-number">2.13.5</span> <code>let</code> blocks</h4>
<p><code>let</code> blocks create a new hard local scope and <strong>introduce new variable bindings each time they run</strong>. The variable need not be immediately assigned. The value evaluated from the last expression is returned.</p>
<div id="25475dd4" class="cell" data-execution_count="241">
<div class="sourceCode cell-code" id="cb456"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> x  <span class="co"># x need not be immediately assigned</span></span>
<span id="cb456-2"><a href="#cb456-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">1</span></span>
<span id="cb456-3"><a href="#cb456-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="224">
<pre><code>1</code></pre>
</div>
</div>
<p>The <code>let</code> syntax accepts a comma-separated series of assignments and variable names.</p>
<div id="c817e9b3" class="cell" data-execution_count="242">
<div class="sourceCode cell-code" id="cb458"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb458-1"><a href="#cb458-1" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> <span class="fl">1</span>, <span class="fl">2</span></span>
<span id="cb458-2"><a href="#cb458-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb458-3"><a href="#cb458-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> x <span class="op">=</span> x, y <span class="op">=</span> <span class="fl">20</span></span>
<span id="cb458-4"><a href="#cb458-4" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@show</span> x, y</span>
<span id="cb458-5"><a href="#cb458-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(x, y) = (1, 20)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="225">
<pre><code>(1, 20)</code></pre>
</div>
</div>
<p><strong>Note:</strong> in the above example, <code>x = x</code> is possible, since the assignment is evaluated from the right to the left. <code>x</code> in the right-hand side is global; <code>x</code> in the left-hand side is local.</p>
</section>
<section id="loops" class="level4" data-number="2.13.6">
<h4 data-number="2.13.6" class="anchored" data-anchor-id="loops"><span class="header-section-number">2.13.6</span> Loops</h4>
<p>A <code>for</code> loop iteration variable is always a new local variable; otherwise you declare it using the <code>outer</code> keyword.</p>
<div id="98891c61" class="cell" data-execution_count="243">
<div class="sourceCode cell-code" id="cb461"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb461-1"><a href="#cb461-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">for_f1</span>()</span>
<span id="cb461-2"><a href="#cb461-2" aria-hidden="true" tabindex="-1"></a>    i <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb461-3"><a href="#cb461-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>  <span class="co"># i is local</span></span>
<span id="cb461-4"><a href="#cb461-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb461-5"><a href="#cb461-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> i</span>
<span id="cb461-6"><a href="#cb461-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb461-7"><a href="#cb461-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb461-8"><a href="#cb461-8" aria-hidden="true" tabindex="-1"></a><span class="fu">for_f1</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="226">
<pre><code>0</code></pre>
</div>
</div>
<div id="c9aa2d52" class="cell" data-execution_count="244">
<div class="sourceCode cell-code" id="cb463"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb463-1"><a href="#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">for_f2</span>()</span>
<span id="cb463-2"><a href="#cb463-2" aria-hidden="true" tabindex="-1"></a>    i <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb463-3"><a href="#cb463-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> outer i <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>  <span class="co"># i is global</span></span>
<span id="cb463-4"><a href="#cb463-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb463-5"><a href="#cb463-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> i</span>
<span id="cb463-6"><a href="#cb463-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb463-7"><a href="#cb463-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb463-8"><a href="#cb463-8" aria-hidden="true" tabindex="-1"></a><span class="fu">for_f2</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="227">
<pre><code>3</code></pre>
</div>
</div>
<p>A noteworthy fact is that you must declare <code>i</code> using the <code>global</code> keyword in the following code or an error will be raised when you run it in non-interactive mode:</p>
<div id="0a1aed74" class="cell" data-execution_count="245">
<div class="sourceCode cell-code" id="cb465"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb465-1"><a href="#cb465-1" aria-hidden="true" tabindex="-1"></a>code <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb465-2"><a href="#cb465-2" aria-hidden="true" tabindex="-1"></a><span class="st">    i = 10</span></span>
<span id="cb465-3"><a href="#cb465-3" aria-hidden="true" tabindex="-1"></a><span class="st">    while i &lt;= 12</span></span>
<span id="cb465-4"><a href="#cb465-4" aria-hidden="true" tabindex="-1"></a><span class="st">        i = i + 1  # i is regarded as a local instead of a global since this is determined regardless of the order of expressions</span></span>
<span id="cb465-5"><a href="#cb465-5" aria-hidden="true" tabindex="-1"></a><span class="st">        @show i</span></span>
<span id="cb465-6"><a href="#cb465-6" aria-hidden="true" tabindex="-1"></a><span class="st">    end</span></span>
<span id="cb465-7"><a href="#cb465-7" aria-hidden="true" tabindex="-1"></a><span class="st">    @show i</span></span>
<span id="cb465-8"><a href="#cb465-8" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb465-9"><a href="#cb465-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb465-10"><a href="#cb465-10" aria-hidden="true" tabindex="-1"></a><span class="fu">include_string</span>(<span class="bu">Main</span>, code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>┌ Warning: Assignment to `i` in soft scope is ambiguous because a global variable by the same name exists: `i` will be treated as a new local. Disambiguate by using `local i` to suppress this warning or `global i` to assign to the existing global variable.
└ @ string:3</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>LoadError: LoadError: UndefVarError: `i` not defined
in expression starting at string:2</code></pre>
</div>
</div>
<div id="62ff417f" class="cell" data-execution_count="246">
<div class="sourceCode cell-code" id="cb468"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb468-1"><a href="#cb468-1" aria-hidden="true" tabindex="-1"></a>code <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb468-2"><a href="#cb468-2" aria-hidden="true" tabindex="-1"></a><span class="st">    i = 10</span></span>
<span id="cb468-3"><a href="#cb468-3" aria-hidden="true" tabindex="-1"></a><span class="st">    while i &lt;= 12</span></span>
<span id="cb468-4"><a href="#cb468-4" aria-hidden="true" tabindex="-1"></a><span class="st">        global i = i + 1  # i is global</span></span>
<span id="cb468-5"><a href="#cb468-5" aria-hidden="true" tabindex="-1"></a><span class="st">        @show i</span></span>
<span id="cb468-6"><a href="#cb468-6" aria-hidden="true" tabindex="-1"></a><span class="st">    end</span></span>
<span id="cb468-7"><a href="#cb468-7" aria-hidden="true" tabindex="-1"></a><span class="st">    @show i</span></span>
<span id="cb468-8"><a href="#cb468-8" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb468-9"><a href="#cb468-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb468-10"><a href="#cb468-10" aria-hidden="true" tabindex="-1"></a><span class="fu">include_string</span>(<span class="bu">Main</span>, code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>i = 11
i = 12
i = 13
i = 13</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="229">
<pre><code>13</code></pre>
</div>
</div>
</section>
<section id="constants" class="level4" data-number="2.13.7">
<h4 data-number="2.13.7" class="anchored" data-anchor-id="constants"><span class="header-section-number">2.13.7</span> Constants</h4>
<p>The <code>const</code> declaration should only be used in global scope on globals. It is difficult for the compiler to optimize code involving global variables, since their values (or even their types) might change at almost any time. If a global variable will not change, adding a <code>const</code> declaration solves this performance problem.</p>
<p>Local constants are quite different. The compiler is able to determine automatically when a local variable is constant, so local constant declarations are not necessary, and in fact are currently not supported.</p>
</section>
<section id="typed-globals" class="level4" data-number="2.13.8">
<h4 data-number="2.13.8" class="anchored" data-anchor-id="typed-globals"><span class="header-section-number">2.13.8</span> Typed globals</h4>
<p>A global can be declared to always be of a constant type by using the syntax <code>global x::T</code> or upon assignment as <code>x::T = 123</code>.</p>
<p>Once a global is declared to be of a constant type, it cannot be assigned to values which cannot be converted to the specified type. In addition, a global has either been assigned to or its type has been set, the binding type is not allowed to change.</p>
</section>
</section>
</section>
<section id="julia-documentation-system" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="julia-documentation-system"><span class="header-section-number">3</span> Julia documentation system</h2>
<div id="9d797807" class="cell" data-execution_count="247">
<div class="sourceCode cell-code" id="cb471"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb471-1"><a href="#cb471-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Store propellant for a rocket"</span></span>
<span id="cb471-2"><a href="#cb471-2" aria-hidden="true" tabindex="-1"></a><span class="kw">abstract type</span> OhTank <span class="kw">end</span></span>
<span id="cb471-3"><a href="#cb471-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb471-4"><a href="#cb471-4" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb471-5"><a href="#cb471-5" aria-hidden="true" tabindex="-1"></a><span class="st">    total(t::OhTank) -&gt; Float64</span></span>
<span id="cb471-6"><a href="#cb471-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb471-7"><a href="#cb471-7" aria-hidden="true" tabindex="-1"></a><span class="st">Mass of propellant tank `t` when it is full.</span></span>
<span id="cb471-8"><a href="#cb471-8" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb471-9"><a href="#cb471-9" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> totalmass <span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="230">
<pre><code>totalmass</code></pre>
</div>
</div>
<p>The Julia documentation system works by prefixing a function or type definition with a regular Julia text string, quoted by double or triple quotes. This is totally different from a comment with the <code>#</code> symbol. Comments don’t get stored in the Julia help system.</p>
<p>Inside this text string, you can document your function or type definition using markdown syntax.</p>
</section>
<section id="modules-and-pakcages" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="modules-and-pakcages"><span class="header-section-number">4</span> Modules and Pakcages</h2>
<p>The core Julia language imposes very little; many functions are extended by modules and packages.</p>
<p>Julia code is organized into files, modules, and packages. Files containing Julia code use the <code>.jl</code> file extension.</p>
<section id="modules" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="modules"><span class="header-section-number">4.1</span> Modules</h3>
<p>Modules help organize code into coherent units. They are delimited syntactically inside <code>module &lt;NameOfModule&gt; ... end</code>, and have the following features:</p>
<ol type="1">
<li><p>Modules are separate namespaces, each introducing a new global scope. This allows the same name to be used for different functions or global variables without conflict, as long as they are in separate modules.</p></li>
<li><p>Modules have facilities for detailed namespace management: each defines a set of names it exports, and can import names from other modules with <code>using</code> and <code>import</code>.</p></li>
<li><p>Modules can be precompiled for faster loading, and may contain code for runtime initialization.</p></li>
</ol>
<p>Module definition:</p>
<div id="01cb5e53" class="cell" data-execution_count="248">
<div class="sourceCode cell-code" id="cb473"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb473-1"><a href="#cb473-1" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> <span class="op">&lt;</span>NameOfModule<span class="op">&gt;</span></span>
<span id="cb473-2"><a href="#cb473-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-3"><a href="#cb473-3" aria-hidden="true" tabindex="-1"></a><span class="co"># using, import, export statements are usually here</span></span>
<span id="cb473-4"><a href="#cb473-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-5"><a href="#cb473-5" aria-hidden="true" tabindex="-1"></a><span class="fu">include</span>(<span class="st">"file1.jl"</span>)</span>
<span id="cb473-6"><a href="#cb473-6" aria-hidden="true" tabindex="-1"></a><span class="fu">include</span>(<span class="st">"file2.jl"</span>)</span>
<span id="cb473-7"><a href="#cb473-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-8"><a href="#cb473-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Files and file names are mostly unrelated to modules, since modules are associated only with module expression. One can have multiple files per module, and multiple modules per file.</p></li>
<li><p><code>include</code> behaves as if the contents of the source file were evaluated in the global scope of the including module.</p></li>
<li><p>The recommended style is not to indent the body of the module. It is also common to use <code>UpperCamelCase</code> for module names, and use the plural form if applicable.</p></li>
</ol>
</div>
</div>
<section id="namespace-management" class="level4" data-number="4.1.1">
<h4 data-number="4.1.1" class="anchored" data-anchor-id="namespace-management"><span class="header-section-number">4.1.1</span> Namespace management</h4>
<p>Namespace management refers to the facilities the language offers for making names in a module available in other modules.</p>
<section id="qualified-names" class="level5" data-number="4.1.1.1">
<h5 data-number="4.1.1.1" class="anchored" data-anchor-id="qualified-names"><span class="header-section-number">4.1.1.1</span> Qualified names</h5>
<p>Names for functions, variables, and types in the global scope always belong to a module, called the parent module. One can use <code>parentmodule()</code> to find the parent module of a name.</p>
<p>One can also refer to those names outside their parent module by prefixing them with their module name, e.g.&nbsp;<code>Base.UnitRange</code>. This is called a qualified name.</p>
<p>The parent module may be accessible using a chain of submodules like <code>Base.Math.sin</code>, where <code>Base.Main</code> is called the module path.</p>
<p>Due to syntactic ambiguities, qualifying a name that contains only symbols, such as an operator, requires inserting a colon, e.g.&nbsp;<code>Base.:+</code>. A small number of operators additonally require parentheses, e.g.&nbsp;<code>Base.:(==)</code>.</p>
</section>
<section id="export-lists" class="level5" data-number="4.1.1.2">
<h5 data-number="4.1.1.2" class="anchored" data-anchor-id="export-lists"><span class="header-section-number">4.1.1.2</span> Export lists</h5>
<p>Names can be added to the export list of a module with <code>export</code>: these are symbols that are imported when <code>using</code> the module.</p>
<div id="3018d988" class="cell" data-execution_count="249">
<div class="sourceCode cell-code" id="cb474"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb474-1"><a href="#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> NiceStuff</span>
<span id="cb474-2"><a href="#cb474-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb474-3"><a href="#cb474-3" aria-hidden="true" tabindex="-1"></a><span class="kw">export</span> nice, DOG</span>
<span id="cb474-4"><a href="#cb474-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb474-5"><a href="#cb474-5" aria-hidden="true" tabindex="-1"></a><span class="co"># definitions of nice and DOG</span></span>
<span id="cb474-6"><a href="#cb474-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb474-7"><a href="#cb474-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In fact, a module can have multiple <code>export</code> statements in arbitrary locations.</p>
</section>
<section id="using-and-import" class="level5" data-number="4.1.1.3">
<h5 data-number="4.1.1.3" class="anchored" data-anchor-id="using-and-import"><span class="header-section-number">4.1.1.3</span> <code>using</code> and <code>import</code></h5>
<ol type="1">
<li><p><code>using</code>: brings <strong>the module name</strong> and <strong>the elements of the export list</strong> into the surrounding global namespace.</p></li>
<li><p><code>import</code>: brings only <strong>the module name</strong> into scope.</p></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>To load a module from a locally defined module, a dot needs to be added before the module name like <code>using .ModuleName</code>.</p></li>
<li><p>One can specify which identifiers to be loaded in a module, e.g., <code>using .NiceStuff: nice, DOG</code>.</p></li>
<li><p>Renaming imported identifiers with <code>as</code>.</p></li>
</ol>
<div id="49036f03" class="cell" data-execution_count="250">
<div class="sourceCode cell-code" id="cb475"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb475-1"><a href="#cb475-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">CSV</span> as C  <span class="co"># This only works with import</span></span>
<span id="cb475-2"><a href="#cb475-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">CSV</span>: read as rd</span>
<span id="cb475-3"><a href="#cb475-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">CSV</span>: read as rd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="how-does-julia-find-a-module" class="level4" data-number="4.1.2">
<h4 data-number="4.1.2" class="anchored" data-anchor-id="how-does-julia-find-a-module"><span class="header-section-number">4.1.2</span> How does Julia find a module</h4>
<ol type="1">
<li>Julia looks for module files in directories defined in the <code>LOAD_PATH</code> variable:</li>
</ol>
<div id="33fe55d0" class="cell" data-execution_count="251">
<div class="sourceCode cell-code" id="cb476"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb476-1"><a href="#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="cn">LOAD_PATH</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="231">
<pre><code>3-element Vector{String}:
 "@"
 "@v#.#"
 "@stdlib"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>To make it look in other places, add some more using <code>push!()</code>:</li>
</ol>
<div id="033ede0c" class="cell" data-execution_count="252">
<div class="sourceCode cell-code" id="cb478"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb478-1"><a href="#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">push!</span>(<span class="cn">LOAD_PATH</span>, <span class="st">"/path/to/my/julia/projects"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="232">
<pre><code>4-element Vector{String}:
 "@"
 "@v#.#"
 "@stdlib"
 "/path/to/my/julia/projects"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>To avoid doing this every time you run Julia, put this line into your startup file <code>~/.julia/config/startup.jl</code>, which runs each time you start an interactive Julia session.</p>
</div>
</div>
<ol start="3" type="1">
<li><p>Julia looks for files in those directories in the form of a package with the structure: <code>ModuleName/src/file.jl</code>.</p></li>
<li><p>Or, if not in package form, it will look for a filename that mathes the name of your module.</p></li>
</ol>
</section>
</section>
<section id="standard-modules" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="standard-modules"><span class="header-section-number">4.2</span> Standard modules</h3>
<p>There are three most important modules:</p>
<ul>
<li>Core</li>
</ul>
<p>Core contains all identifiers considered “built in” to the language, i.e.&nbsp;part of the core language and not libraries.</p>
<p>Eevery module implicitly specifies <code>using Core</code>, since you cannot do anything without these definitions.</p>
<ul>
<li>Base</li>
</ul>
<p>Base contains basic functionality.</p>
<p>All modules implicitly contain <code>using Base</code>.</p>
<ul>
<li>Main</li>
</ul>
<p>Main is the top-level module, and Julia starts with Main set as the current module.</p>
<p>Variables defined at the prompt go in Main, and <code>varinfo()</code> lists variables in Main.</p>
</section>
<section id="packages" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="packages"><span class="header-section-number">4.3</span> Packages</h3>
<p>Julia uses git for organizing and controling packages.</p>
<p>By convention, all packages are stored in git repositories, with a “.jl” suffix.</p>
</section>
</section>
<section id="environments" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="environments"><span class="header-section-number">5</span> Environments</h2>
</section>
<section id="appendices" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="appendices"><span class="header-section-number">6</span> Appendices</h2>
<section id="julia-installation-and-configuration" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="julia-installation-and-configuration"><span class="header-section-number">6.1</span> Julia installation and configuration</h3>
<ol type="1">
<li>Setting some environmental variables globally and permanently</li>
</ol>
<p>Creating a <code>~/.julia/config/startup.jl</code> file with the contents:</p>
<div id="74ccb584" class="cell" data-execution_count="253">
<div class="sourceCode cell-code" id="cb480"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb480-1"><a href="#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Customizing package server</span></span>
<span id="cb480-2"><a href="#cb480-2" aria-hidden="true" tabindex="-1"></a><span class="cn">ENV</span>[<span class="st">"JULIA_PKG_SERVER"</span>] <span class="op">=</span> <span class="st">"https://mirrors.pku.edu.cn/julia"</span></span>
<span id="cb480-3"><a href="#cb480-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb480-4"><a href="#cb480-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Customizing https proxy</span></span>
<span id="cb480-5"><a href="#cb480-5" aria-hidden="true" tabindex="-1"></a><span class="cn">ENV</span>[<span class="st">"https_proxy"</span>] <span class="op">=</span> <span class="st">"http://127.0.0.1:10809"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="julia-repl-mode" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="julia-repl-mode"><span class="header-section-number">6.2</span> Julia REPL mode</h3>
<ul>
<li><p><code>julia&gt;</code>: the standard Julia mode.</p></li>
<li><p><code>help?&gt;</code>: the help mode. Enter help mode by pressing <code>?</code>.</p></li>
<li><p><code>pkg&gt;</code>: the package mode for installing and removing packages. Enter package mode by pressing <code>]</code>.</p></li>
<li><p><code>shell&gt;</code>: the shell mode. Enter shell mode by pressing <code>;</code>.</p></li>
</ul>
<p>To back to the standard Julia mode, press Backspace.</p>
</section>
<section id="installing-third-party-packages" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="installing-third-party-packages"><span class="header-section-number">6.3</span> Installing third-party packages</h3>
<p>Pkg is Julia’s builtin package manager, which can be used to install, update, and remove packages.</p>
<p>You can install packages either by calling Pkg functions in the standard Julia mode or by executing Pkg commands in the package mode.</p>
<ul>
<li>In the package mode:</li>
</ul>
<div id="a57a753d" class="cell" data-execution_count="254">
<div class="sourceCode cell-code" id="cb481"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb481-1"><a href="#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To install packages (multiple packages are separated by comma), use add</span></span>
<span id="cb481-2"><a href="#cb481-2" aria-hidden="true" tabindex="-1"></a>(<span class="pp">@v1</span><span class="fl">.9</span>) pkg<span class="op">&gt;</span> add JSON, StaticArrays</span>
<span id="cb481-3"><a href="#cb481-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-4"><a href="#cb481-4" aria-hidden="true" tabindex="-1"></a><span class="co"># To remove packages, use rm or remove (some Pkg REPL commands have a short and a long version of the command)</span></span>
<span id="cb481-5"><a href="#cb481-5" aria-hidden="true" tabindex="-1"></a>(<span class="pp">@v1</span><span class="fl">.9</span>) pkg<span class="op">&gt;</span> rm JSON, StaticArrays</span>
<span id="cb481-6"><a href="#cb481-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-7"><a href="#cb481-7" aria-hidden="true" tabindex="-1"></a><span class="co"># To update packages, use up or update</span></span>
<span id="cb481-8"><a href="#cb481-8" aria-hidden="true" tabindex="-1"></a>(<span class="pp">@v1</span><span class="fl">.9</span>) pkg<span class="op">&gt;</span> up</span>
<span id="cb481-9"><a href="#cb481-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-10"><a href="#cb481-10" aria-hidden="true" tabindex="-1"></a><span class="co"># To see installed packages, use st or status</span></span>
<span id="cb481-11"><a href="#cb481-11" aria-hidden="true" tabindex="-1"></a>(<span class="pp">@v1</span><span class="fl">.9</span>) pkg<span class="op">&gt;</span> st</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the REPL prompt, <code>(@v1.9)</code> lets you know that <code>v1.9</code> is the active environment.</p>
<p>Different environments can have totally different packages and versions installed from another environment.</p>
<p>This makes it possible that you can constuct an environment tailored to your project, which makes your project completely reproducible.</p>
</div>
</div>
<ul>
<li>In the standard Julia mode</li>
</ul>
<div id="c80d8822" class="cell" data-execution_count="255">
<div class="sourceCode cell-code" id="cb482"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb482-1"><a href="#cb482-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="bu">Pkg</span>.<span class="fu">add</span>([<span class="st">"JSON"</span>, <span class="st">"StaticArrays"</span>])</span>
<span id="cb482-2"><a href="#cb482-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb482-3"><a href="#cb482-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Pkg.remove()</span></span>
<span id="cb482-4"><a href="#cb482-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pkg.update()</span></span>
<span id="cb482-5"><a href="#cb482-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Pkg.status()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>